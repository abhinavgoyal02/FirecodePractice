15:03 INFO [Thread-1] [LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory()] - Building JPA container EntityManagerFactory for persistence unit 'amiaPersistenceUnit'
15:04 INFO [Thread-1] [Version.<clinit>()] - Hibernate Commons Annotations 3.2.0.Final
15:04 INFO [Thread-1] [Environment.<clinit>()] - Hibernate 3.6.0.Final
15:04 INFO [Thread-1] [Environment.<clinit>()] - hibernate.properties not found
15:04 INFO [Thread-1] [Environment.buildBytecodeProvider()] - Bytecode provider name : javassist
15:04 INFO [Thread-1] [Environment.<clinit>()] - using JDK 1.4 java.sql.Timestamp handling
15:04 INFO [Thread-1] [Version.<clinit>()] - Hibernate EntityManager 3.6.0.Final
15:04 INFO [Thread-1] [Ejb3Configuration.configure()] - Processing PersistenceUnitInfo [
	name: amiaPersistenceUnit
	...]
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.core.device.ActivationCodeLookup
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.core.device.ActivationCodeLookup on table ACTIVATION_CODE_LOOKUP
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.core.device.DeviceCommunication
15:04 INFO [Thread-1] [AnnotationBinder.bindTypeDef()] - Binding type definition: com.baxter.renal.nh.domain.time.ClinicTime
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.core.device.DeviceCommunication on table DEVICE_COMMUNICATION
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.core.device.DeviceVersion
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.core.device.DeviceVersion on table DEVICE_VER
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.core.treatment.FlagSetting
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.core.treatment.FlagSetting on table FLAG_STNG
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.core.treatment.FlagSettingAttribute
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.core.treatment.FlagSettingAttribute on table FLAG_STNG_ATTR
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.core.treatment.TreatmentFlag
15:04 INFO [Thread-1] [AnnotationBinder.bindTypeDef()] - Binding type definition: com.baxter.renal.nh.domain.time.ClinicTime
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.core.treatment.TreatmentFlag on table TRTM_FLAG
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.core.treatment.TreatmentFlagAttribute
15:04 INFO [Thread-1] [AnnotationBinder.bindTypeDef()] - Binding type definition: com.baxter.renal.nh.domain.time.ClinicTime
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.core.treatment.TreatmentFlagAttribute on table TRTM_FLAG_ATTR
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.core.setting.SettingTemplate
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.core.setting.SettingTemplate on table STNG_TMPL
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.preprocessor.LegacyPatientCountry
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.preprocessor.LegacyPatientCountry on table LEGACY_PATIENT_COUNTRY_MAP
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.preprocessor.PatientCountry
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.preprocessor.PatientCountry on table PATIENT_COUNTRY_MAP
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.preprocessor.CountryRegion
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.preprocessor.CountryRegion on table COUNTRY_REGION_MAP
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.core.treatment.TreatmentBase
15:04 INFO [Thread-1] [AnnotationBinder.bindTypeDef()] - Binding type definition: com.baxter.renal.nh.domain.time.ClinicTime
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.core.treatment.TreatmentBase on table TRTM_BASE
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.core.treatment.TreatmentReview
15:04 INFO [Thread-1] [AnnotationBinder.bindTypeDef()] - Binding type definition: com.baxter.renal.nh.domain.time.ClinicTime
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.core.treatment.TreatmentReview on table TRTM_REVW
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.core.privacyPolicy.PatientConsentVersion
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.core.privacyPolicy.PatientConsentVersion on table PATIENT_CONSENT_VER
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.core.privacyPolicy.PatientConsent
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.core.privacyPolicy.PatientConsent on table PATIENT_CONSENT
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.core.paperconsent.CompanyConsentType
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.core.paperconsent.CompanyConsentType on table COMPANY_CONSENT_TYPE
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.core.device.Device
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.core.device.Device on table DEVICE
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.core.setting.SettingRevision
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.core.setting.SettingRevision on table STNG_REV
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.amia.Setting
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.amia.Setting on table STNG
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.amia.TreatmentCycleAttribute
15:04 INFO [Thread-1] [AnnotationBinder.bindTypeDef()] - Binding type definition: com.baxter.renal.nh.domain.time.ClinicTime
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.amia.TreatmentCycleAttribute on table TRTM_CYCL_ATTR
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.amia.TreatmentEvent
15:04 INFO [Thread-1] [AnnotationBinder.bindTypeDef()] - Binding type definition: com.baxter.renal.nh.domain.time.ClinicTime
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.amia.TreatmentEvent on table TRTM_EVNT
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.amia.TreatmentCycle
15:04 INFO [Thread-1] [AnnotationBinder.bindTypeDef()] - Binding type definition: com.baxter.renal.nh.domain.time.ClinicTime
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.amia.TreatmentCycle on table TRTM_CYCL
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.amia.DeviceLanguage
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.amia.DeviceLanguage on table DEVICE_LANGUAGE
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.amia.TreatmentAlertAttribute
15:04 INFO [Thread-1] [AnnotationBinder.bindTypeDef()] - Binding type definition: com.baxter.renal.nh.domain.time.ClinicTime
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.amia.TreatmentAlertAttribute on table TRTM_ALRT_ATTR
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.amia.MfgPreload
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.amia.MfgPreload on table MFG_PRELOAD
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.amia.CompanyMfgPreload
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.amia.CompanyMfgPreload on table COMPANY_MFG_PRELOAD
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.amia.AttributeDescription
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.amia.AttributeDescription on table ATTR_DSCR
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.amia.Treatment
15:04 INFO [Thread-1] [AnnotationBinder.bindTypeDef()] - Binding type definition: com.baxter.renal.nh.domain.time.ClinicTime
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.amia.Treatment on table TRTM
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.amia.SettingAttribute
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.amia.SettingAttribute on table STNG_ATTR
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.amia.UidLookup
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.amia.UidLookup on table UID_LOOKUP
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.amia.SettingRevisionMap
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.amia.SettingRevisionMap on table STNG_REV_MAP
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.amia.DeviceVersionIdMap
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.amia.DeviceVersionIdMap on table DEV_VER_ID_MAPPING
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.amia.TreatmentSettingRevision
15:04 INFO [Thread-1] [AnnotationBinder.bindTypeDef()] - Binding type definition: com.baxter.renal.nh.domain.time.ClinicTime
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.amia.TreatmentSettingRevision on table TRTM_STNG_REV
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.amia.UidLookupAttribute
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.amia.UidLookupAttribute on table UID_LOOKUP_ATTR
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.amia.CfgInputFieldRule
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.amia.CfgInputFieldRule on table CFG_INPUT_FIELD_RULE
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.amia.Country
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.amia.Country on table COUNTRY
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.amia.TreatmentEventAttribute
15:04 INFO [Thread-1] [AnnotationBinder.bindTypeDef()] - Binding type definition: com.baxter.renal.nh.domain.time.ClinicTime
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.amia.TreatmentEventAttribute on table TRTM_EVNT_ATTR
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.amia.TreatmentAlert
15:04 INFO [Thread-1] [AnnotationBinder.bindTypeDef()] - Binding type definition: com.baxter.renal.nh.domain.time.ClinicTime
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.amia.TreatmentAlert on table TRTM_ALRT
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.amia.TreatmentSetting
15:04 INFO [Thread-1] [AnnotationBinder.bindTypeDef()] - Binding type definition: com.baxter.renal.nh.domain.time.ClinicTime
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.amia.TreatmentSetting on table TRTM_STNG
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.amia.TreatmentAttribute
15:04 INFO [Thread-1] [AnnotationBinder.bindTypeDef()] - Binding type definition: com.baxter.renal.nh.domain.time.ClinicTime
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.amia.TreatmentAttribute on table TRTM_ATTR
15:04 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.amia.TreatmentSettingAttribute
15:04 INFO [Thread-1] [AnnotationBinder.bindTypeDef()] - Binding type definition: com.baxter.renal.nh.domain.time.ClinicTime
15:04 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.amia.TreatmentSettingAttribute on table TRTM_STNG_ATTR
15:05 INFO [Thread-1] [AnnotationBinder.bindClass()] - Binding entity from annotated class: com.baxter.renal.nh.domain.amia.SettingTemplateAttribute
15:05 INFO [Thread-1] [EntityBinder.bindTable()] - Bind entity com.baxter.renal.nh.domain.amia.SettingTemplateAttribute on table STNG_TMPL_ATTR
15:05 INFO [Thread-1] [CollectionBinder.bindOneToManySecondPass()] - Mapping collection: com.baxter.renal.nh.domain.core.treatment.FlagSetting.flagSettingAttributeList -> FLAG_STNG_ATTR
15:05 INFO [Thread-1] [CollectionBinder.bindOneToManySecondPass()] - Mapping collection: com.baxter.renal.nh.domain.core.treatment.TreatmentFlag.treatmentFlagAttributeList -> TRTM_FLAG_ATTR
15:05 INFO [Thread-1] [CollectionBinder.bindOneToManySecondPass()] - Mapping collection: com.baxter.renal.nh.domain.amia.Setting.settingAttributes -> STNG_ATTR
15:05 INFO [Thread-1] [CollectionBinder.bindOneToManySecondPass()] - Mapping collection: com.baxter.renal.nh.domain.amia.Setting.settingRevisionMaps -> STNG_REV_MAP
15:05 INFO [Thread-1] [CollectionBinder.bindOneToManySecondPass()] - Mapping collection: com.baxter.renal.nh.domain.amia.TreatmentEvent.treatmentEventAttributes -> TRTM_EVNT_ATTR
15:05 INFO [Thread-1] [CollectionBinder.bindOneToManySecondPass()] - Mapping collection: com.baxter.renal.nh.domain.amia.TreatmentCycle.treatmentCycleAttributes -> TRTM_CYCL_ATTR
15:05 INFO [Thread-1] [CollectionBinder.bindOneToManySecondPass()] - Mapping collection: com.baxter.renal.nh.domain.amia.Treatment.treatmentAlertList -> TRTM_ALRT
15:05 INFO [Thread-1] [CollectionBinder.bindOneToManySecondPass()] - Mapping collection: com.baxter.renal.nh.domain.amia.Treatment.treatmentAttributeList -> TRTM_ATTR
15:05 INFO [Thread-1] [CollectionBinder.bindOneToManySecondPass()] - Mapping collection: com.baxter.renal.nh.domain.amia.Treatment.treatmentCycleList -> TRTM_CYCL
15:05 INFO [Thread-1] [CollectionBinder.bindOneToManySecondPass()] - Mapping collection: com.baxter.renal.nh.domain.amia.Treatment.treatmentEventList -> TRTM_EVNT
15:05 INFO [Thread-1] [CollectionBinder.bindOneToManySecondPass()] - Mapping collection: com.baxter.renal.nh.domain.amia.Treatment.treatmentSettingList -> TRTM_STNG
15:05 INFO [Thread-1] [CollectionBinder.bindOneToManySecondPass()] - Mapping collection: com.baxter.renal.nh.domain.amia.UidLookup.uidAttributeList -> UID_LOOKUP_ATTR
15:05 INFO [Thread-1] [CollectionBinder.bindOneToManySecondPass()] - Mapping collection: com.baxter.renal.nh.domain.amia.TreatmentAlert.treatmentAlertAttributes -> TRTM_ALRT_ATTR
15:05 INFO [Thread-1] [CollectionBinder.bindOneToManySecondPass()] - Mapping collection: com.baxter.renal.nh.domain.amia.TreatmentSetting.treatmentSettingAttributeList -> TRTM_STNG_ATTR
15:05 INFO [Thread-1] [Configuration.applyHibernateValidatorLegacyConstraintsOnDDL()] - Hibernate Validator not found: ignoring
15:05 INFO [Thread-1] [Version.<clinit>()] - Hibernate Validator 4.2.0.Final
15:05 INFO [Thread-1] [HibernateSearchEventListenerRegister.enableHibernateSearch()] - Unable to find org.hibernate.search.event.FullTextIndexEventListener on the classpath. Hibernate Search is not enabled.
15:05 INFO [Thread-1] [ConnectionProviderFactory.initializeConnectionProviderFromConfig()] - Initializing connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
15:05 INFO [Thread-1] [InjectedDataSourceConnectionProvider.configure()] - Using provided datasource
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - Database ->
       name : Oracle
    version : Oracle Database 11g Enterprise Edition Release 11.2.0.3.0 - 64bit Production
With the Partitioning, OLAP, Data Mining and Real Application Testing options
      major : 11
      minor : 2
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - Driver ->
       name : Oracle JDBC driver
    version : 11.2.0.2.0
      major : 11
      minor : 2
15:05 INFO [Thread-1] [Dialect.<init>()] - Using dialect: org.hibernate.dialect.Oracle10gDialect
15:05 INFO [Thread-1] [JdbcSupportLoader.useContextualLobCreation()] - Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
15:05 INFO [Thread-1] [TransactionFactoryFactory.buildTransactionFactory()] - Transaction strategy: org.hibernate.transaction.JDBCTransactionFactory
15:05 INFO [Thread-1] [TransactionManagerLookupFactory.getTransactionManagerLookup()] - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - Automatic flush during beforeCompletion(): disabled
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - Automatic session close at end of transaction: disabled
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - JDBC batch size: 15
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - JDBC batch updates for versioned data: disabled
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - Scrollable result sets: enabled
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - JDBC3 getGeneratedKeys(): disabled
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - Connection release mode: auto
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - Default schema: NH_IT4_4M_DEVICEAMIA
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - Default batch fetch size: 1
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - Generate SQL with comments: disabled
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - Order SQL updates by primary key: disabled
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - Order SQL inserts for batching: disabled
15:05 INFO [Thread-1] [SettingsFactory.createQueryTranslatorFactory()] - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
15:05 INFO [Thread-1] [ASTQueryTranslatorFactory.<init>()] - Using ASTQueryTranslatorFactory
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - Query language substitutions: {}
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - JPA-QL strict compliance: enabled
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - Second-level cache: enabled
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - Query cache: disabled
15:05 INFO [Thread-1] [SettingsFactory.createRegionFactory()] - Cache region factory : org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge
15:05 INFO [Thread-1] [RegionFactoryCacheProviderBridge.<init>()] - Cache provider: org.hibernate.cache.HashtableCacheProvider
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - Optimize cache for minimal puts: disabled
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - Structured second-level cache entries: disabled
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - Statistics: disabled
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - Deleted entity synthetic identifier rollback: disabled
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - Default entity-mode: pojo
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - Named query checking : enabled
15:05 INFO [Thread-1] [SettingsFactory.buildSettings()] - Check Nullability in Core (should be disabled when Bean Validation is on): disabled
15:05 INFO [Thread-1] [SessionFactoryImpl.<init>()] - building session factory
15:06 INFO [Thread-1] [SessionFactoryObjectFactory.addInstance()] - Not binding factory to JNDI, no JNDI name configured
15:06 WARN [Thread-1] [AuditListener.setRetrieveAuditUserIdStrategy()] - trying to set retrieveAuditUserIdStrategy to com.baxter.renal.nh.audit.RetrieveAuditUserIdFromConfigStrategy@466e06d7
15:06 WARN [Thread-1] [AuditListener.setRetrieveAuditUserIdStrategy()] - retrieveAuditUserIdStrategy has been set to com.baxter.renal.nh.audit.RetrieveAuditUserIdFromConfigStrategy@466e06d7
15:06 WARN [Thread-1] [AmiaAuditListener.setRetrieveUserIdForInitialSettingStrategy()] - trying to set retrieveUserIdForInitialSettingStrategy to com.baxter.renal.nh.audit.RetrieveUserIdForInitialSettingStrategy@58c4d5c9
15:06 WARN [Thread-1] [AmiaAuditListener.setRetrieveUserIdForInitialSettingStrategy()] - retrieveUserIdForInitialSettingStrategy has been set to com.baxter.renal.nh.audit.RetrieveUserIdForInitialSettingStrategy@58c4d5c9
15:07 INFO [Thread-1] [Jaxb2Marshaller.createJaxbContextFromClasses()] - Creating JAXBContext with classes to be bound [class com.baxter.renal.nh.jaxb.TreatmentType]
15:07 INFO [Thread-1] [JavascriptRunner.getInstance()] - Enter JavascriptRunner.getInstance() with resource: class path resource [com/resource/calculation.js]
15:08 INFO [Thread-1] [ThreadPoolTaskExecutor.initialize()] - Initializing ExecutorService 
15:08 INFO [Thread-1] [ThreadPoolTaskScheduler.initialize()] - Initializing ExecutorService  'taskScheduler'
15:08 INFO [Thread-1] [DefaultLifecycleProcessor.start()] - Starting beans in phase -2147483648
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {service-activator} as a subscriber to the 'logComplete' channel
15:08 INFO [Thread-1] [DirectChannel.subscribe()] - Channel 'logComplete' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started org.springframework.integration.config.ConsumerEndpointFactoryBean#0
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {service-activator} as a subscriber to the 'logPayload' channel
15:08 INFO [Thread-1] [DirectChannel.subscribe()] - Channel 'logPayload' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started org.springframework.integration.config.ConsumerEndpointFactoryBean#1
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {service-activator} as a subscriber to the 'log' channel
15:08 INFO [Thread-1] [DirectChannel.subscribe()] - Channel 'log' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started org.springframework.integration.config.ConsumerEndpointFactoryBean#2
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {service-activator} as a subscriber to the 'errorChannel' channel
15:08 INFO [Thread-1] [PublishSubscribeChannel.subscribe()] - Channel 'errorChannel' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started org.springframework.integration.config.ConsumerEndpointFactoryBean#3
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {service-activator:amia12TreatmentLogSeparator} as a subscriber to the 'TP_A_12_TreatmentPackageChannel_AUDIT' channel
15:08 INFO [Thread-1] [DirectChannel.subscribe()] - Channel 'TP_A_12_TreatmentPackageChannel_AUDIT' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started amia12TreatmentLogSeparator
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {service-activator:amia14TreatmentLogSeparator} as a subscriber to the 'TP_A_14_TreatmentPackageChannel_AUDIT' channel
15:08 INFO [Thread-1] [DirectChannel.subscribe()] - Channel 'TP_A_14_TreatmentPackageChannel_AUDIT' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started amia14TreatmentLogSeparator
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {service-activator:kaguyaTreatmentLogSeparator} as a subscriber to the 'TP_K_TreatmentPackageChannel_AUDIT' channel
15:08 INFO [Thread-1] [DirectChannel.subscribe()] - Channel 'TP_K_TreatmentPackageChannel_AUDIT' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started kaguyaTreatmentLogSeparator
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {router} as a subscriber to the 'TP_A_TreatmentLogChannel_AUDIT' channel
15:08 INFO [Thread-1] [DirectChannel.subscribe()] - Channel 'TP_A_TreatmentLogChannel_AUDIT' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started org.springframework.integration.config.ConsumerEndpointFactoryBean#4
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {transformer:schemaLocationEnricher12} as a subscriber to the 'TP_A_12_SchemaLocationChannel' channel
15:08 INFO [Thread-1] [DirectChannel.subscribe()] - Channel 'TP_A_12_SchemaLocationChannel' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started schemaLocationEnricher12
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {transformer:schemaLocationEnricher14} as a subscriber to the 'TP_A_14_SchemaLocationChannel' channel
15:08 INFO [Thread-1] [DirectChannel.subscribe()] - Channel 'TP_A_14_SchemaLocationChannel' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started schemaLocationEnricher14
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {filter:treatmentLogXmlValidator} as a subscriber to the 'TP_A_SchemaLocationChannel' channel
15:08 INFO [Thread-1] [DirectChannel.subscribe()] - Channel 'TP_A_SchemaLocationChannel' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started treatmentLogXmlValidator
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {transformer:deviceVersionIdEnrichment} as a subscriber to the 'TP_A_ValidatedTreatmentXmlChannel' channel
15:08 INFO [Thread-1] [DirectChannel.subscribe()] - Channel 'TP_A_ValidatedTreatmentXmlChannel' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started deviceVersionIdEnrichment
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {service-activator:amiaTreatmentLogCommunication} as a subscriber to the 'TP_A_DeviceVersionIdChannel' channel
15:08 INFO [Thread-1] [DirectChannel.subscribe()] - Channel 'TP_A_DeviceVersionIdChannel' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started amiaTreatmentLogCommunication
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {transformer:amiaFindTreatmentStartDate} as a subscriber to the 'TP_A_DeviceCommunicationChannel' channel
15:08 INFO [Thread-1] [DirectChannel.subscribe()] - Channel 'TP_A_DeviceCommunicationChannel' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started amiaFindTreatmentStartDate
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {transformer:amiaTreatmentBeanTransformer} as a subscriber to the 'TP_A_HoldTreatmentStartDateChannel' channel
15:08 INFO [Thread-1] [DirectChannel.subscribe()] - Channel 'TP_A_HoldTreatmentStartDateChannel' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started amiaTreatmentBeanTransformer
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {filter:duplicateInsertTreatmentValidator} as a subscriber to the 'TP_A_ConvertedTreatmentChannel_AUDIT' channel
15:08 INFO [Thread-1] [DirectChannel.subscribe()] - Channel 'TP_A_ConvertedTreatmentChannel_AUDIT' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started duplicateInsertTreatmentValidator
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {filter:amiaRegionValidator} as a subscriber to the 'TP_A_ValidateRegionChannel' channel
15:08 INFO [Thread-1] [DirectChannel.subscribe()] - Channel 'TP_A_ValidateRegionChannel' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started amiaRegionValidator
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {service-activator:amiaTreatmentStopFlow} as a subscriber to the 'TP_A_InvalidTreatmentChannel_AUDIT' channel
15:08 INFO [Thread-1] [DirectChannel.subscribe()] - Channel 'TP_A_InvalidTreatmentChannel_AUDIT' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started amiaTreatmentStopFlow
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {service-activator:amiaDeviceEventParser} as a subscriber to the 'TP_A_TreatmentTypeBeanChannel' channel
15:08 INFO [Thread-1] [DirectChannel.subscribe()] - Channel 'TP_A_TreatmentTypeBeanChannel' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started amiaDeviceEventParser
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {service-activator:amiaTreatmentParser} as a subscriber to the 'TP_A_DeviceEventsParserChannel' channel
15:08 INFO [Thread-1] [DirectChannel.subscribe()] - Channel 'TP_A_DeviceEventsParserChannel' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started amiaTreatmentParser
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {service-activator:amiaTrtmStngCalculator} as a subscriber to the 'TP_A_CompletedTreatmentDataChannel' channel
15:08 INFO [Thread-1] [DirectChannel.subscribe()] - Channel 'TP_A_CompletedTreatmentDataChannel' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started amiaTrtmStngCalculator
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {service-activator:amiaTrtmCalculator} as a subscriber to the 'TP_A_CompletedTreatmentSettingDataChannel' channel
15:08 INFO [Thread-1] [DirectChannel.subscribe()] - Channel 'TP_A_CompletedTreatmentSettingDataChannel' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started amiaTrtmCalculator
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {service-activator:amiaTreatmentPersist} as a subscriber to the 'TP_A_CompletedTreatmentCalDataChannel' channel
15:08 INFO [Thread-1] [DirectChannel.subscribe()] - Channel 'TP_A_CompletedTreatmentCalDataChannel' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started amiaTreatmentPersist
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {service-activator:amiaTreatmentFlagRules} as a subscriber to the 'TP_A_PersistTreatmentBeanChannel_AUDIT' channel
15:08 INFO [Thread-1] [DirectChannel.subscribe()] - Channel 'TP_A_PersistTreatmentBeanChannel_AUDIT' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started amiaTreatmentFlagRules
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {service-activator:amiaTreatmentSettingsUpdate} as a subscriber to the 'TP_A_FlagsRuleCalculationChannel' channel
15:08 INFO [Thread-1] [DirectChannel.subscribe()] - Channel 'TP_A_FlagsRuleCalculationChannel' has 1 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started amiaTreatmentSettingsUpdate
15:08 INFO [Thread-1] [EventDrivenConsumer.logComponentSubscriptionEvent()] - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
15:08 INFO [Thread-1] [PublishSubscribeChannel.subscribe()] - Channel 'errorChannel' has 2 subscriber(s).
15:08 INFO [Thread-1] [EventDrivenConsumer.start()] - started _org.springframework.integration.errorLogger
15:08 INFO [Thread-1] [DefaultLifecycleProcessor.start()] - Starting beans in phase 0
15:08 INFO [Thread-1] [ChannelPublishingJmsMessageListener$GatewayDelegate.start()] - started org.springframework.integration.jms.ChannelPublishingJmsMessageListener$GatewayDelegate@71f5689b
15:08 INFO [Thread-1] [JmsMessageDrivenEndpoint.start()] - started amia12TreatmentRegionalInboundAdapter
15:08 INFO [Thread-1] [ChannelPublishingJmsMessageListener$GatewayDelegate.start()] - started org.springframework.integration.jms.ChannelPublishingJmsMessageListener$GatewayDelegate@38366496
15:08 INFO [Thread-1] [JmsMessageDrivenEndpoint.start()] - started amia14TreatmentRegionalInboundAdapter
15:08 INFO [Thread-1] [ChannelPublishingJmsMessageListener$GatewayDelegate.start()] - started org.springframework.integration.jms.ChannelPublishingJmsMessageListener$GatewayDelegate@3638043
15:08 INFO [Thread-1] [JmsMessageDrivenEndpoint.start()] - started kaguyaTreatmentRegionalInboundAdapter
15:08 INFO [Thread-1] [ContextLoader.initWebApplicationContext()] - Root WebApplicationContext: initialization completed in 6131 ms
15:09 INFO [taskExecutor-3] [CachingConnectionFactory.initConnection()] - Established shared JMS Connection: com.ibm.mq.jms.MQQueueConnection@d853bec
43:39 INFO [taskExecutor-4] [CachingConnectionFactory.initConnection()] - Established shared JMS Connection: com.ibm.mq.jms.MQQueueConnection@4d921f43
43:40 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
43:40 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 60775
43:40 INFO [taskExecutor-4] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
43:40 INFO [taskExecutor-4] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
43:40 INFO [taskExecutor-4] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
43:40 INFO [taskExecutor-4] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
43:40 INFO [taskExecutor-4] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
43:40 INFO [taskExecutor-4] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8123, deviceId=23010034, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-04 08:43:40, TimeStamp=1522831420916, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
43:40 INFO [taskExecutor-4] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
43:41 INFO [taskExecutor-4] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2014-01-01T00:00:00.000
43:41 INFO [taskExecutor-4] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
43:41 INFO [taskExecutor-4] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
43:42 INFO [taskExecutor-4] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
43:42 INFO [taskExecutor-4] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-04-08-41-33_A_12_23050007_111.tar.gz.enc)
43:42 INFO [taskExecutor-4] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
43:42 INFO [taskExecutor-4] [RegionValidator.isValidRegion()] - Start to validate Region
43:42 INFO [taskExecutor-4] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
43:42 INFO [taskExecutor-4] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
43:42 INFO [taskExecutor-4] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
43:42 INFO [taskExecutor-4] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=17977, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=17977, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=150.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=130.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=140.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=110.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=200.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=210.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=0.7.9-1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2014-01-01 00:00:00, TimeStamp=1388534400000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Time-Based APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=3600, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1200, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1200.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1500.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=203], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=200], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=203], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=7200, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
43:42 INFO [taskExecutor-4] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
43:42 INFO [taskExecutor-4] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
43:42 INFO [taskExecutor-4] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
43:42 INFO [taskExecutor-4] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
43:42 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 2 - 0 - 0.
43:42 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 2, 0, 0.
43:42 INFO [taskExecutor-4] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
43:42 INFO [taskExecutor-4] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
43:42 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
43:43 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
43:46 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005512)
43:46 INFO [taskExecutor-4] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
43:47 INFO [taskExecutor-4] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009451, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2014-01-01 00:00:00, TimeStamp=1388534400000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
43:47 INFO [taskExecutor-4] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
43:47 INFO [taskExecutor-4] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 2 - 0 - 0.
43:47 INFO [taskExecutor-4] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 2, 0, 0.
43:47 INFO [taskExecutor-4] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
43:47 INFO [taskExecutor-4] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
43:47 INFO [taskExecutor-4] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005512
19:34 INFO [taskExecutor-6] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
19:34 INFO [taskExecutor-6] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 22937
19:34 INFO [taskExecutor-6] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
19:35 INFO [taskExecutor-6] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
19:35 INFO [taskExecutor-6] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
19:35 INFO [taskExecutor-6] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
19:35 INFO [taskExecutor-6] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
19:35 INFO [taskExecutor-6] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8129, deviceId=23010034, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-04 09:19:35, TimeStamp=1522833575087, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
19:35 INFO [taskExecutor-6] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
19:35 INFO [taskExecutor-6] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2015-01-11T00:00:00.000
19:35 INFO [taskExecutor-6] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
19:35 INFO [taskExecutor-6] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
19:35 INFO [taskExecutor-6] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
19:35 INFO [taskExecutor-6] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-04-09-18-07_A_12_24070012_100.tar.gz.enc)
19:35 INFO [taskExecutor-6] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
19:35 INFO [taskExecutor-6] [RegionValidator.isValidRegion()] - Start to validate Region
19:35 INFO [taskExecutor-6] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
19:35 INFO [taskExecutor-6] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
19:35 INFO [taskExecutor-6] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
19:35 INFO [taskExecutor-6] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=17977, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=17977, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=150.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=130.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=140.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=110.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=200.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=210.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=0.7.9-1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2015-01-11 00:00:00, TimeStamp=1420934400000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Time-Based APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=21600, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1200, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1200.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1500.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=203], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=200], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=203], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1200, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=25200, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
19:35 INFO [taskExecutor-6] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
19:35 INFO [taskExecutor-6] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
19:35 INFO [taskExecutor-6] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
19:35 INFO [taskExecutor-6] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
19:35 INFO [taskExecutor-6] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
19:35 INFO [taskExecutor-6] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
19:35 INFO [taskExecutor-6] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
19:35 INFO [taskExecutor-6] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
19:35 INFO [taskExecutor-6] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
19:35 INFO [taskExecutor-6] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
19:36 INFO [taskExecutor-6] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005513)
19:36 INFO [taskExecutor-6] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
19:36 INFO [taskExecutor-6] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009452, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2015-01-11 00:00:00, TimeStamp=1420934400000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
19:36 INFO [taskExecutor-6] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
19:36 INFO [taskExecutor-6] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
19:36 INFO [taskExecutor-6] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
19:36 INFO [taskExecutor-6] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
19:36 INFO [taskExecutor-6] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
19:36 INFO [taskExecutor-6] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005513
25:48 INFO [taskExecutor-9] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
25:48 INFO [taskExecutor-9] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 20181
25:48 INFO [taskExecutor-9] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
25:48 INFO [taskExecutor-9] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
25:48 INFO [taskExecutor-9] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
25:48 INFO [taskExecutor-9] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
25:48 INFO [taskExecutor-9] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
25:48 INFO [taskExecutor-9] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8129, deviceId=23010034, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-04 09:25:48, TimeStamp=1522833948335, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
25:48 INFO [taskExecutor-9] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
25:48 INFO [taskExecutor-9] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2015-01-12T00:00:00.000
25:48 INFO [taskExecutor-9] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
25:48 INFO [taskExecutor-9] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
25:48 INFO [taskExecutor-9] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
25:48 INFO [taskExecutor-9] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-04-09-24-00_A_12_24070013_101.tar.gz.enc)
25:48 INFO [taskExecutor-9] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
25:48 INFO [taskExecutor-9] [RegionValidator.isValidRegion()] - Start to validate Region
25:48 INFO [taskExecutor-9] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
25:48 INFO [taskExecutor-9] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
25:48 INFO [taskExecutor-9] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
25:48 INFO [taskExecutor-9] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=150.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=130.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=140.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=110.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=200.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=210.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=0.7.9-1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2015-01-12 00:00:00, TimeStamp=1421020800000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Time-Based APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=18000, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1200, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1200.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1500.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=203], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=200], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=203], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=21600, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
25:48 INFO [taskExecutor-9] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
25:48 INFO [taskExecutor-9] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
25:48 INFO [taskExecutor-9] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
25:48 INFO [taskExecutor-9] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
25:48 INFO [taskExecutor-9] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
25:48 INFO [taskExecutor-9] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
25:48 INFO [taskExecutor-9] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
25:48 INFO [taskExecutor-9] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
25:48 INFO [taskExecutor-9] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
25:48 INFO [taskExecutor-9] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
25:49 INFO [taskExecutor-9] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005514)
25:49 INFO [taskExecutor-9] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
25:49 INFO [taskExecutor-9] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009453, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2015-01-12 00:00:00, TimeStamp=1421020800000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
25:49 INFO [taskExecutor-9] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
25:49 INFO [taskExecutor-9] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
25:49 INFO [taskExecutor-9] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
25:49 INFO [taskExecutor-9] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
25:49 INFO [taskExecutor-9] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
25:49 INFO [taskExecutor-9] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005514
32:13 INFO [taskExecutor-20] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
32:13 INFO [taskExecutor-20] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 21538
32:13 INFO [taskExecutor-20] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
32:13 INFO [taskExecutor-20] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
32:13 INFO [taskExecutor-20] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
32:13 INFO [taskExecutor-20] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
32:13 INFO [taskExecutor-20] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
32:13 INFO [taskExecutor-20] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8129, deviceId=23010034, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-04 09:32:13, TimeStamp=1522834333533, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
32:13 INFO [taskExecutor-20] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
32:13 INFO [taskExecutor-20] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2015-01-13T00:00:00.000
32:13 INFO [taskExecutor-20] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
32:13 INFO [taskExecutor-20] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
32:13 INFO [taskExecutor-20] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
32:13 INFO [taskExecutor-20] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-04-09-31-15_A_12_24070014_102.tar.gz.enc)
32:13 INFO [taskExecutor-20] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
32:13 INFO [taskExecutor-20] [RegionValidator.isValidRegion()] - Start to validate Region
32:13 INFO [taskExecutor-20] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
32:13 INFO [taskExecutor-20] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
32:13 INFO [taskExecutor-20] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
32:13 INFO [taskExecutor-20] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20001, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20001, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=150.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=130.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=140.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=110.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=200.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=210.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=0.7.9-1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2015-01-13 00:00:00, TimeStamp=1421107200000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Time-Based APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=3600, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1200, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1200.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1500.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=203], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=200], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=203], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1200, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=7200, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
32:13 INFO [taskExecutor-20] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
32:13 INFO [taskExecutor-20] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
32:13 INFO [taskExecutor-20] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
32:13 INFO [taskExecutor-20] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
32:13 INFO [taskExecutor-20] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
32:13 INFO [taskExecutor-20] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
32:13 INFO [taskExecutor-20] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
32:13 INFO [taskExecutor-20] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
32:13 INFO [taskExecutor-20] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
32:13 INFO [taskExecutor-20] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
32:14 INFO [taskExecutor-20] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005515)
32:14 INFO [taskExecutor-20] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
32:14 INFO [taskExecutor-20] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009454, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2015-01-13 00:00:00, TimeStamp=1421107200000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
32:14 INFO [taskExecutor-20] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
32:14 INFO [taskExecutor-20] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
32:14 INFO [taskExecutor-20] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
32:14 INFO [taskExecutor-20] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
32:14 INFO [taskExecutor-20] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
32:14 INFO [taskExecutor-20] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005515
50:31 INFO [taskExecutor-2] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
50:31 INFO [taskExecutor-2] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 100465
50:31 INFO [taskExecutor-2] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
50:31 INFO [taskExecutor-2] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
50:31 INFO [taskExecutor-2] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
50:31 INFO [taskExecutor-2] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
50:31 INFO [taskExecutor-2] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
50:31 INFO [taskExecutor-2] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8129, deviceId=23010034, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-04 09:50:31, TimeStamp=1522835431655, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
50:31 INFO [taskExecutor-2] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
50:31 INFO [taskExecutor-2] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2015-01-14T00:00:00.000
50:31 INFO [taskExecutor-2] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
50:31 INFO [taskExecutor-2] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
50:32 INFO [taskExecutor-2] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
50:32 INFO [taskExecutor-2] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-04-09-47-59_A_12_24070014_103.tar.gz.enc)
50:32 INFO [taskExecutor-2] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
50:32 INFO [taskExecutor-2] [RegionValidator.isValidRegion()] - Start to validate Region
50:32 INFO [taskExecutor-2] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
50:32 INFO [taskExecutor-2] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
50:32 INFO [taskExecutor-2] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
50:32 INFO [taskExecutor-2] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=150.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=130.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=140.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=110.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=200.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=210.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=0.7.9-1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2015-01-14 00:00:00, TimeStamp=1421193600000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Time-Based APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=295200, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1500, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=18000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1500, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1200.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1500.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=203], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=200], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=203], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=18000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1500, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=298800, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
50:32 INFO [taskExecutor-2] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
50:32 INFO [taskExecutor-2] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
50:32 INFO [taskExecutor-2] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
50:32 INFO [taskExecutor-2] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
50:32 INFO [taskExecutor-2] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
50:32 INFO [taskExecutor-2] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
50:32 INFO [taskExecutor-2] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
50:32 INFO [taskExecutor-2] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
50:32 INFO [taskExecutor-2] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
50:32 INFO [taskExecutor-2] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
50:33 INFO [taskExecutor-2] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005516)
50:33 INFO [taskExecutor-2] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
50:33 INFO [taskExecutor-2] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009455, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2015-01-14 00:00:00, TimeStamp=1421193600000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
50:33 INFO [taskExecutor-2] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
50:33 INFO [taskExecutor-2] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
50:33 INFO [taskExecutor-2] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
50:33 INFO [taskExecutor-2] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
50:33 INFO [taskExecutor-2] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
50:33 INFO [taskExecutor-2] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005516
55:52 INFO [taskExecutor-13] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
55:52 INFO [taskExecutor-13] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 14123
55:52 INFO [taskExecutor-13] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
55:52 INFO [taskExecutor-13] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
55:52 INFO [taskExecutor-13] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
55:52 INFO [taskExecutor-13] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
55:52 INFO [taskExecutor-13] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
55:52 INFO [taskExecutor-13] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8129, deviceId=23010034, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-04 09:55:52, TimeStamp=1522835752331, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
55:52 INFO [taskExecutor-13] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
55:52 INFO [taskExecutor-13] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2015-01-15T00:00:00.000
55:52 INFO [taskExecutor-13] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
55:52 INFO [taskExecutor-13] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
55:52 INFO [taskExecutor-13] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
55:52 INFO [taskExecutor-13] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-04-09-54-44_A_12_23050007_104.tar.gz.enc)
55:52 INFO [taskExecutor-13] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
55:52 INFO [taskExecutor-13] [RegionValidator.isValidRegion()] - Start to validate Region
55:52 INFO [taskExecutor-13] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
55:52 INFO [taskExecutor-13] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
55:52 INFO [taskExecutor-13] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
55:52 INFO [taskExecutor-13] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=19000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=19000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=0.7.9-1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2015-01-15 00:00:00, TimeStamp=1421280000000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Time-Based APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=3600, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1200, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1200.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1500.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=203], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=200], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=203], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=7200, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
55:52 INFO [taskExecutor-13] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
55:52 INFO [taskExecutor-13] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
55:52 INFO [taskExecutor-13] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
55:52 INFO [taskExecutor-13] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
55:52 INFO [taskExecutor-13] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
55:52 INFO [taskExecutor-13] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
55:52 INFO [taskExecutor-13] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
55:52 INFO [taskExecutor-13] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
55:52 INFO [taskExecutor-13] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
55:52 INFO [taskExecutor-13] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
55:53 INFO [taskExecutor-13] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005517)
55:53 INFO [taskExecutor-13] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
55:53 INFO [taskExecutor-13] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009456, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2015-01-15 00:00:00, TimeStamp=1421280000000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
55:53 INFO [taskExecutor-13] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
55:53 INFO [taskExecutor-13] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
55:53 INFO [taskExecutor-13] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
55:53 INFO [taskExecutor-13] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
55:53 INFO [taskExecutor-13] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
55:53 INFO [taskExecutor-13] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005517
41:46 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
41:46 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 501337
41:46 INFO [taskExecutor-4] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
41:47 INFO [taskExecutor-4] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
41:47 INFO [taskExecutor-4] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
41:47 INFO [taskExecutor-4] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
41:47 INFO [taskExecutor-4] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
41:47 INFO [taskExecutor-4] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8125, deviceId=21166, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-04 10:41:47, TimeStamp=1522838507371, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
41:47 INFO [taskExecutor-4] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
41:47 INFO [taskExecutor-4] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2015-01-11T00:00:00.000
41:47 INFO [taskExecutor-4] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
41:47 INFO [taskExecutor-4] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
41:48 INFO [taskExecutor-4] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
41:48 INFO [taskExecutor-4] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-04-10-38-46_A_12_23050007_100.tar.gz.enc)
41:48 INFO [taskExecutor-4] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
41:48 INFO [taskExecutor-4] [RegionValidator.isValidRegion()] - Start to validate Region
41:48 INFO [taskExecutor-4] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
41:48 INFO [taskExecutor-4] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
41:48 INFO [taskExecutor-4] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
41:48 INFO [taskExecutor-4] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=80, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=900, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=200, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=150.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=130.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=99.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=99.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=110.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=200.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=99.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=210.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=0.7.9-1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2015-01-11 00:00:00, TimeStamp=1420934400000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose Tidal, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=3000, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1200, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=10, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=520, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1200.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=10.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=520.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=80.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=203], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=200], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=203], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1200, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=6600, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
41:48 INFO [taskExecutor-4] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
41:48 INFO [taskExecutor-4] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
41:48 INFO [taskExecutor-4] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
41:48 INFO [taskExecutor-4] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
41:48 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
41:48 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
41:48 INFO [taskExecutor-4] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
41:48 INFO [taskExecutor-4] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
41:48 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
41:48 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
41:50 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005518)
41:50 INFO [taskExecutor-4] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
41:50 INFO [taskExecutor-4] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009457, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2015-01-11 00:00:00, TimeStamp=1420934400000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
41:50 INFO [taskExecutor-4] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
41:50 INFO [taskExecutor-4] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
41:50 INFO [taskExecutor-4] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
41:50 INFO [taskExecutor-4] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
41:50 INFO [taskExecutor-4] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
41:50 INFO [taskExecutor-4] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005518
11:28 INFO [taskExecutor-10] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
11:29 INFO [taskExecutor-10] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 618917
11:29 INFO [taskExecutor-10] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
11:29 INFO [taskExecutor-10] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
11:29 INFO [taskExecutor-10] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
11:29 INFO [taskExecutor-10] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
11:29 INFO [taskExecutor-10] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
11:29 INFO [taskExecutor-10] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8125, deviceId=21166, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-04 11:11:29, TimeStamp=1522840289386, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
11:29 INFO [taskExecutor-10] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
11:29 INFO [taskExecutor-10] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2015-01-12T15:28:23.390661
11:29 INFO [taskExecutor-10] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
11:29 INFO [taskExecutor-10] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
11:30 INFO [taskExecutor-10] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
11:30 INFO [taskExecutor-10] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-04-11-09-38_A_12_24070012_100.tar.gz.enc)
11:30 INFO [taskExecutor-10] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
11:30 INFO [taskExecutor-10] [RegionValidator.isValidRegion()] - Start to validate Region
11:30 INFO [taskExecutor-10] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
11:30 INFO [taskExecutor-10] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
11:30 INFO [taskExecutor-10] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
11:30 INFO [taskExecutor-10] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-43, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-42, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=120.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=75.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=401.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=98.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=99.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=91, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=90.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=122.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=false, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=0.7.9-1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2015-01-12 15:28:23, TimeStamp=1421076503390, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=8167, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1273, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=517.50, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=23, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=424.4, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=172.5, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=7.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-2.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1500.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=301], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=302], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=5000.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=653, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=8287, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
11:30 INFO [taskExecutor-10] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
11:30 INFO [taskExecutor-10] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
11:30 INFO [taskExecutor-10] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
11:30 INFO [taskExecutor-10] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
11:30 INFO [taskExecutor-10] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
11:30 INFO [taskExecutor-10] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
11:30 INFO [taskExecutor-10] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
11:30 INFO [taskExecutor-10] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
11:30 INFO [taskExecutor-10] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
11:30 INFO [taskExecutor-10] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
11:37 INFO [taskExecutor-10] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005519)
11:37 INFO [taskExecutor-10] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
11:38 INFO [taskExecutor-10] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009458, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2015-01-12 15:28:23, TimeStamp=1421076503390, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
11:38 INFO [taskExecutor-10] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
11:38 INFO [taskExecutor-10] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
11:38 INFO [taskExecutor-10] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
11:38 INFO [taskExecutor-10] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
11:38 INFO [taskExecutor-10] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
11:38 INFO [taskExecutor-10] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005519
47:45 INFO [taskExecutor-1] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
47:45 INFO [taskExecutor-1] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 617839
47:45 INFO [taskExecutor-1] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
47:45 INFO [taskExecutor-1] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
47:45 INFO [taskExecutor-1] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
47:45 INFO [taskExecutor-1] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
47:45 INFO [taskExecutor-1] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
47:45 INFO [taskExecutor-1] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8125, deviceId=21166, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-04 11:47:45, TimeStamp=1522842465538, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
47:45 INFO [taskExecutor-1] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
47:45 INFO [taskExecutor-1] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2015-01-13T15:28:23.390661
47:45 INFO [taskExecutor-1] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
47:45 INFO [taskExecutor-1] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
47:46 INFO [taskExecutor-1] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
47:46 INFO [taskExecutor-1] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-04-11-20-42_A_12_24070013_100.tar.gz.enc)
47:46 INFO [taskExecutor-1] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
47:46 INFO [taskExecutor-1] [RegionValidator.isValidRegion()] - Start to validate Region
47:46 INFO [taskExecutor-1] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
47:46 INFO [taskExecutor-1] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
47:46 INFO [taskExecutor-1] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
47:46 INFO [taskExecutor-1] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=120.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=75.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=401.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=98.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=99.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=91, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=122.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=false, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=0.7.9-1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2015-01-13 15:28:23, TimeStamp=1421162903390, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=8167, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1273, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=30, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=258.75, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=23, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=424.4, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=10.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=86.3, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=7.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1500.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=301], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=302], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=5000.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=653, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=8287, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
47:46 INFO [taskExecutor-1] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
47:46 INFO [taskExecutor-1] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
47:46 INFO [taskExecutor-1] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
47:46 INFO [taskExecutor-1] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
47:46 INFO [taskExecutor-1] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
47:46 INFO [taskExecutor-1] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
47:46 INFO [taskExecutor-1] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
47:46 INFO [taskExecutor-1] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
47:46 INFO [taskExecutor-1] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
47:46 INFO [taskExecutor-1] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
47:52 INFO [taskExecutor-1] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005520)
47:52 INFO [taskExecutor-1] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
47:53 INFO [taskExecutor-1] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009459, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2015-01-13 15:28:23, TimeStamp=1421162903390, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
47:53 INFO [taskExecutor-1] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
47:53 INFO [taskExecutor-1] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
47:53 INFO [taskExecutor-1] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
47:53 INFO [taskExecutor-1] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
47:53 INFO [taskExecutor-1] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
47:53 INFO [taskExecutor-1] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005520
53:55 INFO [taskExecutor-11] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
53:55 INFO [taskExecutor-11] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 21440
53:55 INFO [taskExecutor-11] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
53:55 INFO [taskExecutor-11] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
53:55 INFO [taskExecutor-11] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
53:55 INFO [taskExecutor-11] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
53:55 INFO [taskExecutor-11] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
53:55 INFO [taskExecutor-11] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8125, deviceId=23010034, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-04 11:53:55, TimeStamp=1522842835136, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
53:55 INFO [taskExecutor-11] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
53:55 INFO [taskExecutor-11] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2015-01-16T00:00:00.000
53:55 INFO [taskExecutor-11] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
53:55 INFO [taskExecutor-11] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
53:55 INFO [taskExecutor-11] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
53:55 INFO [taskExecutor-11] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-04-11-52-55_A_12_24070014_100.tar.gz.enc)
53:55 INFO [taskExecutor-11] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
53:55 INFO [taskExecutor-11] [RegionValidator.isValidRegion()] - Start to validate Region
53:55 INFO [taskExecutor-11] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
53:55 INFO [taskExecutor-11] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
53:55 INFO [taskExecutor-11] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
53:55 INFO [taskExecutor-11] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=17977, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=150.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=130.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=140.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=110.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=200.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=250.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=0.7.9-1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2015-01-16 00:00:00, TimeStamp=1421366400000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Time-Based APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=120, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=120.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1500.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=203], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=200], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=203], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=3600, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
53:55 INFO [taskExecutor-11] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
53:55 INFO [taskExecutor-11] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
53:55 INFO [taskExecutor-11] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
53:55 INFO [taskExecutor-11] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
53:55 INFO [taskExecutor-11] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
53:55 INFO [taskExecutor-11] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
53:55 INFO [taskExecutor-11] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
53:55 INFO [taskExecutor-11] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
53:55 INFO [taskExecutor-11] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
53:55 INFO [taskExecutor-11] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
53:56 INFO [taskExecutor-11] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005521)
53:56 INFO [taskExecutor-11] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
53:56 INFO [taskExecutor-11] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009460, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2015-01-16 00:00:00, TimeStamp=1421366400000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
53:56 INFO [taskExecutor-11] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
53:56 INFO [taskExecutor-11] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
53:56 INFO [taskExecutor-11] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
53:56 INFO [taskExecutor-11] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
53:56 INFO [taskExecutor-11] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
53:56 INFO [taskExecutor-11] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005521
00:21 INFO [taskExecutor-19] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
00:21 INFO [taskExecutor-19] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 618434
00:21 INFO [taskExecutor-19] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
00:21 INFO [taskExecutor-19] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
00:21 INFO [taskExecutor-19] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
00:21 INFO [taskExecutor-19] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
00:21 INFO [taskExecutor-19] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
00:21 INFO [taskExecutor-19] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8125, deviceId=21166, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-04 12:00:21, TimeStamp=1522843221410, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
00:21 INFO [taskExecutor-19] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
00:21 INFO [taskExecutor-19] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2015-01-15T15:28:23.390661
00:21 INFO [taskExecutor-19] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
00:21 INFO [taskExecutor-19] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
00:22 INFO [taskExecutor-19] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
00:22 INFO [taskExecutor-19] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-04-11-59-17_A_12_23050007_100.tar.gz.enc)
00:22 INFO [taskExecutor-19] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
00:22 INFO [taskExecutor-19] [RegionValidator.isValidRegion()] - Start to validate Region
00:22 INFO [taskExecutor-19] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
00:22 INFO [taskExecutor-19] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
00:22 INFO [taskExecutor-19] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
00:22 INFO [taskExecutor-19] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=120.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=75.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=401.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=98.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=99.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=false, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=0.7.9-1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2015-01-15 15:28:23, TimeStamp=1421335703390, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Cycle-Based APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=8167, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1273, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=258.75, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=23, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=33.4, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=424.4, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=86.3, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=7.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1500.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=301], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=302], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=5000.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=653, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=8287, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
00:22 INFO [taskExecutor-19] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
00:22 INFO [taskExecutor-19] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
00:22 INFO [taskExecutor-19] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
00:22 INFO [taskExecutor-19] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
00:22 INFO [taskExecutor-19] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
00:22 INFO [taskExecutor-19] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
00:22 INFO [taskExecutor-19] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
00:22 INFO [taskExecutor-19] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
00:22 INFO [taskExecutor-19] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
00:22 INFO [taskExecutor-19] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
00:30 INFO [taskExecutor-19] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005522)
00:30 INFO [taskExecutor-19] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
00:30 INFO [taskExecutor-19] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009461, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2015-01-15 15:28:23, TimeStamp=1421335703390, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
00:30 INFO [taskExecutor-19] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
00:30 INFO [taskExecutor-19] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
00:30 INFO [taskExecutor-19] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
00:30 INFO [taskExecutor-19] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
00:30 INFO [taskExecutor-19] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
00:30 INFO [taskExecutor-19] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005522
06:45 INFO [taskExecutor-6] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
06:45 INFO [taskExecutor-6] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 618426
06:46 INFO [taskExecutor-6] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
06:46 INFO [taskExecutor-6] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
06:46 INFO [taskExecutor-6] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
06:46 INFO [taskExecutor-6] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
06:46 INFO [taskExecutor-6] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
06:46 INFO [taskExecutor-6] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8125, deviceId=21166, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-04 12:06:46, TimeStamp=1522843606233, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
06:46 INFO [taskExecutor-6] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
06:46 INFO [taskExecutor-6] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2015-01-16T15:28:23.390661
06:46 INFO [taskExecutor-6] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
06:46 INFO [taskExecutor-6] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
06:47 INFO [taskExecutor-6] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
06:47 INFO [taskExecutor-6] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-04-12-05-19_A_12_24070012_100.tar.gz.enc)
06:47 INFO [taskExecutor-6] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
06:47 INFO [taskExecutor-6] [RegionValidator.isValidRegion()] - Start to validate Region
06:47 INFO [taskExecutor-6] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
06:47 INFO [taskExecutor-6] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
06:47 INFO [taskExecutor-6] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
06:47 INFO [taskExecutor-6] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=120.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=75.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=401.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=98.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=99.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=false, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=0.7.9-1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2015-01-16 15:28:23, TimeStamp=1421422103390, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose Tidal, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=8167, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1273, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=258.75, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=23, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=33.4, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=424.4, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=86.3, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=7.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1500.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=301], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=302], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=5000.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=653, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=8287, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
06:47 INFO [taskExecutor-6] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
06:47 INFO [taskExecutor-6] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
06:47 INFO [taskExecutor-6] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
06:47 INFO [taskExecutor-6] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
06:47 INFO [taskExecutor-6] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
06:47 INFO [taskExecutor-6] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
06:47 INFO [taskExecutor-6] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
06:47 INFO [taskExecutor-6] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
06:47 INFO [taskExecutor-6] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
06:47 INFO [taskExecutor-6] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
06:53 INFO [taskExecutor-6] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005523)
06:53 INFO [taskExecutor-6] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
06:54 INFO [taskExecutor-6] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009462, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2015-01-16 15:28:23, TimeStamp=1421422103390, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
06:54 INFO [taskExecutor-6] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
06:54 INFO [taskExecutor-6] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
06:54 INFO [taskExecutor-6] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
06:54 INFO [taskExecutor-6] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
06:54 INFO [taskExecutor-6] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
06:54 INFO [taskExecutor-6] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005523
13:56 INFO [taskExecutor-19] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
13:56 INFO [taskExecutor-19] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 21442
13:56 INFO [taskExecutor-19] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
13:56 INFO [taskExecutor-19] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
13:56 INFO [taskExecutor-19] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
13:56 INFO [taskExecutor-19] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
13:56 INFO [taskExecutor-19] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
13:56 INFO [taskExecutor-19] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8125, deviceId=23010034, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-04 12:13:56, TimeStamp=1522844036453, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
13:56 INFO [taskExecutor-19] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
13:56 INFO [taskExecutor-19] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2015-01-16T00:00:00.000
13:56 INFO [taskExecutor-19] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
13:56 INFO [taskExecutor-19] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
13:56 INFO [taskExecutor-19] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
13:56 INFO [taskExecutor-19] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-04-12-11-20_A_12_24070013_100.tar.gz.enc)
13:56 INFO [taskExecutor-19] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
13:56 INFO [taskExecutor-19] [RegionValidator.isValidRegion()] - Start to validate Region
13:56 INFO [taskExecutor-19] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
13:56 INFO [taskExecutor-19] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
13:56 INFO [taskExecutor-19] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
13:56 INFO [taskExecutor-19] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=17977, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=150.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=170.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=110.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=250.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=0.7.9-1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2015-01-16 00:00:00, TimeStamp=1421366400000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Time-Based APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1500.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=203], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=200], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=203], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=3600, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
13:56 INFO [taskExecutor-19] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
13:56 INFO [taskExecutor-19] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
13:56 INFO [taskExecutor-19] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
13:56 INFO [taskExecutor-19] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
13:56 INFO [taskExecutor-19] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
13:56 INFO [taskExecutor-19] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
13:56 INFO [taskExecutor-19] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
13:56 INFO [taskExecutor-19] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
13:56 INFO [taskExecutor-19] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
13:56 INFO [taskExecutor-19] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
13:57 INFO [taskExecutor-19] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005524)
13:57 INFO [taskExecutor-19] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
13:57 INFO [taskExecutor-19] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009463, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2015-01-16 00:00:00, TimeStamp=1421366400000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
13:57 INFO [taskExecutor-19] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
13:57 INFO [taskExecutor-19] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
13:57 INFO [taskExecutor-19] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
13:57 INFO [taskExecutor-19] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
13:57 INFO [taskExecutor-19] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
13:57 INFO [taskExecutor-19] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005524
19:47 INFO [taskExecutor-19] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
19:47 INFO [taskExecutor-19] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 17414
19:47 INFO [taskExecutor-19] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
19:47 INFO [taskExecutor-19] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
19:47 INFO [taskExecutor-19] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
19:47 INFO [taskExecutor-19] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
19:47 INFO [taskExecutor-19] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
19:47 INFO [taskExecutor-19] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8125, deviceId=23010034, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-04 12:19:47, TimeStamp=1522844387720, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
19:47 INFO [taskExecutor-19] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
19:47 INFO [taskExecutor-19] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2015-03-17T09:00:00.000
19:47 INFO [taskExecutor-19] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
19:47 INFO [taskExecutor-19] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
19:47 INFO [taskExecutor-19] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
19:47 INFO [taskExecutor-19] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-04-12-18-35_A_12_24070014_100.tar.gz.enc)
19:47 INFO [taskExecutor-19] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
19:47 INFO [taskExecutor-19] [RegionValidator.isValidRegion()] - Start to validate Region
19:47 INFO [taskExecutor-19] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
19:47 INFO [taskExecutor-19] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
19:47 INFO [taskExecutor-19] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
19:47 INFO [taskExecutor-19] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=150.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=130.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=140.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=110.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=200.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=210.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=0.7.9-1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2015-03-17 09:00:00, TimeStamp=1426582800000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=3600, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
19:47 INFO [taskExecutor-19] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
19:47 INFO [taskExecutor-19] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
19:47 INFO [taskExecutor-19] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
19:47 INFO [taskExecutor-19] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
19:47 INFO [taskExecutor-19] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
19:47 INFO [taskExecutor-19] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
19:47 INFO [taskExecutor-19] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
19:47 INFO [taskExecutor-19] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
19:47 INFO [taskExecutor-19] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
19:47 INFO [taskExecutor-19] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
19:48 INFO [taskExecutor-19] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005525)
19:48 INFO [taskExecutor-19] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
19:48 INFO [taskExecutor-19] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009464, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2015-03-17 09:00:00, TimeStamp=1426582800000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
19:48 INFO [taskExecutor-19] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
19:48 INFO [taskExecutor-19] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
19:48 INFO [taskExecutor-19] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
19:48 INFO [taskExecutor-19] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
19:48 INFO [taskExecutor-19] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
19:48 INFO [taskExecutor-19] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005525
26:30 INFO [taskExecutor-6] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
26:30 INFO [taskExecutor-6] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 20158
26:30 INFO [taskExecutor-6] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
26:30 INFO [taskExecutor-6] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
26:30 INFO [taskExecutor-6] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
26:30 INFO [taskExecutor-6] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
26:30 INFO [taskExecutor-6] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
26:30 INFO [taskExecutor-6] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8125, deviceId=23010034, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-04 12:26:30, TimeStamp=1522844790390, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
26:30 INFO [taskExecutor-6] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
26:30 INFO [taskExecutor-6] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2015-03-16T09:00:00.000
26:30 INFO [taskExecutor-6] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
26:30 INFO [taskExecutor-6] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
26:30 INFO [taskExecutor-6] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
26:30 INFO [taskExecutor-6] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-04-12-23-52_A_12_24050020_100.tar.gz.enc)
26:30 INFO [taskExecutor-6] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
26:30 INFO [taskExecutor-6] [RegionValidator.isValidRegion()] - Start to validate Region
26:30 INFO [taskExecutor-6] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
26:30 INFO [taskExecutor-6] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
26:30 INFO [taskExecutor-6] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
26:30 INFO [taskExecutor-6] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=-1400, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2800, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2800, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=150.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=130.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=140.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=110.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=210.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=0.7.9-1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2015-03-16 09:00:00, TimeStamp=1426496400000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose Tidal, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1200, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1500, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=3600, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
26:30 INFO [taskExecutor-6] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
26:30 INFO [taskExecutor-6] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
26:30 INFO [taskExecutor-6] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
26:30 INFO [taskExecutor-6] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
26:30 INFO [taskExecutor-6] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
26:30 INFO [taskExecutor-6] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
26:30 INFO [taskExecutor-6] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
26:30 INFO [taskExecutor-6] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
26:30 INFO [taskExecutor-6] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
26:30 INFO [taskExecutor-6] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
26:31 INFO [taskExecutor-6] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005526)
26:31 INFO [taskExecutor-6] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
26:31 INFO [taskExecutor-6] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009465, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2015-03-16 09:00:00, TimeStamp=1426496400000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
26:31 INFO [taskExecutor-6] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
26:31 INFO [taskExecutor-6] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
26:31 INFO [taskExecutor-6] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
26:31 INFO [taskExecutor-6] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
26:31 INFO [taskExecutor-6] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
26:31 INFO [taskExecutor-6] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005526
33:54 INFO [taskExecutor-19] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
33:54 INFO [taskExecutor-19] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 20181
33:54 INFO [taskExecutor-19] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
33:54 INFO [taskExecutor-19] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
33:54 INFO [taskExecutor-19] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
33:54 INFO [taskExecutor-19] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
33:54 INFO [taskExecutor-19] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
33:54 INFO [taskExecutor-19] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8125, deviceId=23010034, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-04 12:33:54, TimeStamp=1522845234400, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
33:54 INFO [taskExecutor-19] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
33:54 INFO [taskExecutor-19] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2015-03-18T09:00:00.000
33:54 INFO [taskExecutor-19] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
33:54 INFO [taskExecutor-19] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
33:54 INFO [taskExecutor-19] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
33:54 INFO [taskExecutor-19] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-04-12-32-28_A_12_24050025_100.tar.gz.enc)
33:54 INFO [taskExecutor-19] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
33:54 INFO [taskExecutor-19] [RegionValidator.isValidRegion()] - Start to validate Region
33:54 INFO [taskExecutor-19] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
33:54 INFO [taskExecutor-19] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
33:54 INFO [taskExecutor-19] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
33:54 INFO [taskExecutor-19] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=150.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=130.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=140.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=110.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=200.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=210.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=0.7.9-1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2015-03-18 09:00:00, TimeStamp=1426669200000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=39600, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1200, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1200.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=43200, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
33:54 INFO [taskExecutor-19] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
33:54 INFO [taskExecutor-19] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
33:54 INFO [taskExecutor-19] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
33:54 INFO [taskExecutor-19] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
33:54 INFO [taskExecutor-19] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
33:54 INFO [taskExecutor-19] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
33:54 INFO [taskExecutor-19] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
33:54 INFO [taskExecutor-19] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
33:54 INFO [taskExecutor-19] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
33:54 INFO [taskExecutor-19] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
33:55 INFO [taskExecutor-19] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005527)
33:55 INFO [taskExecutor-19] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
33:55 INFO [taskExecutor-19] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009466, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2015-03-18 09:00:00, TimeStamp=1426669200000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
33:55 INFO [taskExecutor-19] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
33:55 INFO [taskExecutor-19] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
33:55 INFO [taskExecutor-19] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
33:55 INFO [taskExecutor-19] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
33:55 INFO [taskExecutor-19] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
33:55 INFO [taskExecutor-19] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005527
34:02 INFO [taskExecutor-19] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
34:02 INFO [taskExecutor-19] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 20181
34:02 INFO [taskExecutor-19] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
34:02 INFO [taskExecutor-19] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
34:02 INFO [taskExecutor-19] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
34:02 INFO [taskExecutor-19] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
34:02 INFO [taskExecutor-19] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
34:02 INFO [taskExecutor-19] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8125, deviceId=23010034, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-04 12:34:02, TimeStamp=1522845242793, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
34:02 INFO [taskExecutor-19] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
34:02 INFO [taskExecutor-19] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2015-03-18T09:00:00.000
34:02 INFO [taskExecutor-19] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
34:02 INFO [taskExecutor-19] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
34:02 INFO [taskExecutor-19] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
34:02 INFO [taskExecutor-19] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-04-12-32-28_A_12_24050025_100.tar.gz.enc)
34:02 INFO [taskExecutor-19] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment existed in NH, the flow will stop!)
34:02 INFO [taskExecutor-19] [AmiaStopService.stopFlow()] - Flow stop, the treatment to process is duplicate or invalid
41:00 INFO [taskExecutor-14] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
41:00 INFO [taskExecutor-14] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 31287
41:00 INFO [taskExecutor-14] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
41:00 INFO [taskExecutor-14] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
41:00 INFO [taskExecutor-14] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
41:00 INFO [taskExecutor-14] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
41:00 INFO [taskExecutor-14] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
41:00 INFO [taskExecutor-14] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8125, deviceId=23010034, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-04 12:41:00, TimeStamp=1522845660532, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
41:00 INFO [taskExecutor-14] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
41:00 INFO [taskExecutor-14] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2015-03-15T09:00:00.000
41:00 INFO [taskExecutor-14] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
41:00 INFO [taskExecutor-14] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
41:00 INFO [taskExecutor-14] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
41:00 INFO [taskExecutor-14] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-04-12-39-12_A_12_24050026_100.tar.gz.enc)
41:00 INFO [taskExecutor-14] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
41:00 INFO [taskExecutor-14] [RegionValidator.isValidRegion()] - Start to validate Region
41:00 INFO [taskExecutor-14] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
41:00 INFO [taskExecutor-14] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
41:00 INFO [taskExecutor-14] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
41:00 INFO [taskExecutor-14] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-4200, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=-600, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6400, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6400, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=150.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=130.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=140.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=110.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=200.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=210.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=0.7.9-1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2015-03-15 09:00:00, TimeStamp=1426410000000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose Tidal, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=19800, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=4500, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3600, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1500.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1200.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-1400.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2400, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=800, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=23400, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
41:00 INFO [taskExecutor-14] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
41:00 INFO [taskExecutor-14] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
41:00 INFO [taskExecutor-14] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
41:00 INFO [taskExecutor-14] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
41:00 INFO [taskExecutor-14] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
41:00 INFO [taskExecutor-14] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
41:00 INFO [taskExecutor-14] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
41:00 INFO [taskExecutor-14] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
41:00 INFO [taskExecutor-14] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
41:00 INFO [taskExecutor-14] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
41:01 INFO [taskExecutor-14] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005528)
41:01 INFO [taskExecutor-14] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
41:01 INFO [taskExecutor-14] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009467, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2015-03-15 09:00:00, TimeStamp=1426410000000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
41:01 INFO [taskExecutor-14] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
41:01 INFO [taskExecutor-14] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
41:01 INFO [taskExecutor-14] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
41:01 INFO [taskExecutor-14] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
41:01 INFO [taskExecutor-14] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
41:01 INFO [taskExecutor-14] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005528
18:56 INFO [taskExecutor-5] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
18:56 INFO [taskExecutor-5] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 618416
18:56 INFO [taskExecutor-5] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
19:03 ERROR [taskExecutor-5] [ExceptionLogger.handleError()] - Exception in integration flow. Account ID: -1
org.springframework.integration.MessageHandlingException: com.baxter.renal.nh.exception.NHApplicationException: Error validating XML.
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:76)
	at org.springframework.integration.filter.AbstractMessageProcessingSelector.accept(AbstractMessageProcessingSelector.java:59)
	at org.springframework.integration.filter.MessageFilter.handleRequestMessage(MessageFilter.java:103)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:97)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.router.AbstractMessageRouter.handleMessageInternal(AbstractMessageRouter.java:128)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.core.MessagingTemplate.convertAndSend(MessagingTemplate.java:189)
	at org.springframework.integration.gateway.MessagingGatewaySupport.send(MessagingGatewaySupport.java:183)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener$GatewayDelegate.send(ChannelPublishingJmsMessageListener.java:423)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener.onMessage(ChannelPublishingJmsMessageListener.java:277)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:535)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:495)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:467)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:325)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:243)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1058)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:952)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)
Caused by: com.baxter.renal.nh.exception.NHApplicationException: Error validating XML.
	at com.baxter.renal.nh.settings.integration.XMLValidator.handleValidationException(XMLValidator.java:294)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateXml(XMLValidator.java:281)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateTreatmentLogXml(XMLValidator.java:104)
	at sun.reflect.GeneratedMethodAccessor634.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:69)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:83)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:57)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:102)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:102)
	at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:126)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:225)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:125)
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:73)
	... 59 more
Caused by: org.xml.sax.SAXParseException: cvc-datatype-valid.1.2.1: '12134' is not a valid value for 'dateTime'.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.elementLocallyValidType(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.processElementContent(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleEndElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.endElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.jaxp.validation.StreamValidatorHelper.validate(Unknown Source)
	at com.sun.org.apache.xerces.internal.jaxp.validation.ValidatorImpl.validate(Unknown Source)
	at javax.xml.validation.Validator.validate(Unknown Source)
	at com.baxter.renal.nh.arch.util.XmlUtil.validateXml(XmlUtil.java:145)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateXml(XMLValidator.java:276)
	... 72 more
19:03 INFO [taskExecutor-5] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
19:03 INFO [taskExecutor-5] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 618416
19:03 INFO [taskExecutor-5] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
19:03 ERROR [taskExecutor-5] [ExceptionLogger.handleError()] - Exception in integration flow. Account ID: -1
org.springframework.integration.MessageHandlingException: com.baxter.renal.nh.exception.NHApplicationException: Error validating XML.
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:76)
	at org.springframework.integration.filter.AbstractMessageProcessingSelector.accept(AbstractMessageProcessingSelector.java:59)
	at org.springframework.integration.filter.MessageFilter.handleRequestMessage(MessageFilter.java:103)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:97)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.router.AbstractMessageRouter.handleMessageInternal(AbstractMessageRouter.java:128)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.core.MessagingTemplate.convertAndSend(MessagingTemplate.java:189)
	at org.springframework.integration.gateway.MessagingGatewaySupport.send(MessagingGatewaySupport.java:183)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener$GatewayDelegate.send(ChannelPublishingJmsMessageListener.java:423)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener.onMessage(ChannelPublishingJmsMessageListener.java:277)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:535)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:495)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:467)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:325)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:243)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1058)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:952)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)
Caused by: com.baxter.renal.nh.exception.NHApplicationException: Error validating XML.
	at com.baxter.renal.nh.settings.integration.XMLValidator.handleValidationException(XMLValidator.java:294)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateXml(XMLValidator.java:281)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateTreatmentLogXml(XMLValidator.java:104)
	at sun.reflect.GeneratedMethodAccessor634.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:69)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:83)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:57)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:102)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:102)
	at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:126)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:225)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:125)
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:73)
	... 59 more
Caused by: org.xml.sax.SAXParseException: cvc-datatype-valid.1.2.1: '12134' is not a valid value for 'dateTime'.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.elementLocallyValidType(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.processElementContent(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleEndElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.endElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.jaxp.validation.StreamValidatorHelper.validate(Unknown Source)
	at com.sun.org.apache.xerces.internal.jaxp.validation.ValidatorImpl.validate(Unknown Source)
	at javax.xml.validation.Validator.validate(Unknown Source)
	at com.baxter.renal.nh.arch.util.XmlUtil.validateXml(XmlUtil.java:145)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateXml(XMLValidator.java:276)
	... 72 more
19:04 INFO [taskExecutor-5] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
19:04 INFO [taskExecutor-5] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 618416
19:04 INFO [taskExecutor-5] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
19:04 ERROR [taskExecutor-5] [ExceptionLogger.handleError()] - Exception in integration flow. Account ID: -1
org.springframework.integration.MessageHandlingException: com.baxter.renal.nh.exception.NHApplicationException: Error validating XML.
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:76)
	at org.springframework.integration.filter.AbstractMessageProcessingSelector.accept(AbstractMessageProcessingSelector.java:59)
	at org.springframework.integration.filter.MessageFilter.handleRequestMessage(MessageFilter.java:103)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:97)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.router.AbstractMessageRouter.handleMessageInternal(AbstractMessageRouter.java:128)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.core.MessagingTemplate.convertAndSend(MessagingTemplate.java:189)
	at org.springframework.integration.gateway.MessagingGatewaySupport.send(MessagingGatewaySupport.java:183)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener$GatewayDelegate.send(ChannelPublishingJmsMessageListener.java:423)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener.onMessage(ChannelPublishingJmsMessageListener.java:277)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:535)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:495)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:467)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:325)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:243)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1058)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:952)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)
Caused by: com.baxter.renal.nh.exception.NHApplicationException: Error validating XML.
	at com.baxter.renal.nh.settings.integration.XMLValidator.handleValidationException(XMLValidator.java:294)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateXml(XMLValidator.java:281)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateTreatmentLogXml(XMLValidator.java:104)
	at sun.reflect.GeneratedMethodAccessor634.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:69)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:83)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:57)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:102)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:102)
	at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:126)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:225)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:125)
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:73)
	... 59 more
Caused by: org.xml.sax.SAXParseException: cvc-datatype-valid.1.2.1: '12134' is not a valid value for 'dateTime'.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.elementLocallyValidType(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.processElementContent(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleEndElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.endElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.jaxp.validation.StreamValidatorHelper.validate(Unknown Source)
	at com.sun.org.apache.xerces.internal.jaxp.validation.ValidatorImpl.validate(Unknown Source)
	at javax.xml.validation.Validator.validate(Unknown Source)
	at com.baxter.renal.nh.arch.util.XmlUtil.validateXml(XmlUtil.java:145)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateXml(XMLValidator.java:276)
	... 72 more
19:04 INFO [taskExecutor-5] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
19:04 INFO [taskExecutor-5] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 618416
19:04 INFO [taskExecutor-5] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
19:04 ERROR [taskExecutor-5] [ExceptionLogger.handleError()] - Exception in integration flow. Account ID: -1
org.springframework.integration.MessageHandlingException: com.baxter.renal.nh.exception.NHApplicationException: Error validating XML.
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:76)
	at org.springframework.integration.filter.AbstractMessageProcessingSelector.accept(AbstractMessageProcessingSelector.java:59)
	at org.springframework.integration.filter.MessageFilter.handleRequestMessage(MessageFilter.java:103)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:97)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.router.AbstractMessageRouter.handleMessageInternal(AbstractMessageRouter.java:128)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.core.MessagingTemplate.convertAndSend(MessagingTemplate.java:189)
	at org.springframework.integration.gateway.MessagingGatewaySupport.send(MessagingGatewaySupport.java:183)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener$GatewayDelegate.send(ChannelPublishingJmsMessageListener.java:423)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener.onMessage(ChannelPublishingJmsMessageListener.java:277)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:535)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:495)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:467)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:325)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:243)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1058)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:952)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)
Caused by: com.baxter.renal.nh.exception.NHApplicationException: Error validating XML.
	at com.baxter.renal.nh.settings.integration.XMLValidator.handleValidationException(XMLValidator.java:294)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateXml(XMLValidator.java:281)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateTreatmentLogXml(XMLValidator.java:104)
	at sun.reflect.GeneratedMethodAccessor634.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:69)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:83)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:57)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:102)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:102)
	at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:126)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:225)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:125)
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:73)
	... 59 more
Caused by: org.xml.sax.SAXParseException: cvc-datatype-valid.1.2.1: '12134' is not a valid value for 'dateTime'.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.elementLocallyValidType(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.processElementContent(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleEndElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.endElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.jaxp.validation.StreamValidatorHelper.validate(Unknown Source)
	at com.sun.org.apache.xerces.internal.jaxp.validation.ValidatorImpl.validate(Unknown Source)
	at javax.xml.validation.Validator.validate(Unknown Source)
	at com.baxter.renal.nh.arch.util.XmlUtil.validateXml(XmlUtil.java:145)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateXml(XMLValidator.java:276)
	... 72 more
19:04 INFO [taskExecutor-5] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
19:04 INFO [taskExecutor-5] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 618416
19:04 INFO [taskExecutor-5] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
19:04 ERROR [taskExecutor-5] [ExceptionLogger.handleError()] - Exception in integration flow. Account ID: -1
org.springframework.integration.MessageHandlingException: com.baxter.renal.nh.exception.NHApplicationException: Error validating XML.
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:76)
	at org.springframework.integration.filter.AbstractMessageProcessingSelector.accept(AbstractMessageProcessingSelector.java:59)
	at org.springframework.integration.filter.MessageFilter.handleRequestMessage(MessageFilter.java:103)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:97)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.router.AbstractMessageRouter.handleMessageInternal(AbstractMessageRouter.java:128)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.core.MessagingTemplate.convertAndSend(MessagingTemplate.java:189)
	at org.springframework.integration.gateway.MessagingGatewaySupport.send(MessagingGatewaySupport.java:183)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener$GatewayDelegate.send(ChannelPublishingJmsMessageListener.java:423)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener.onMessage(ChannelPublishingJmsMessageListener.java:277)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:535)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:495)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:467)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:325)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:243)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1058)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:952)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)
Caused by: com.baxter.renal.nh.exception.NHApplicationException: Error validating XML.
	at com.baxter.renal.nh.settings.integration.XMLValidator.handleValidationException(XMLValidator.java:294)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateXml(XMLValidator.java:281)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateTreatmentLogXml(XMLValidator.java:104)
	at sun.reflect.GeneratedMethodAccessor634.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:69)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:83)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:57)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:102)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:102)
	at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:126)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:225)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:125)
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:73)
	... 59 more
Caused by: org.xml.sax.SAXParseException: cvc-datatype-valid.1.2.1: '12134' is not a valid value for 'dateTime'.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.elementLocallyValidType(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.processElementContent(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleEndElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.endElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.jaxp.validation.StreamValidatorHelper.validate(Unknown Source)
	at com.sun.org.apache.xerces.internal.jaxp.validation.ValidatorImpl.validate(Unknown Source)
	at javax.xml.validation.Validator.validate(Unknown Source)
	at com.baxter.renal.nh.arch.util.XmlUtil.validateXml(XmlUtil.java:145)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateXml(XMLValidator.java:276)
	... 72 more
39:23 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
39:23 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 138110
39:23 INFO [taskExecutor-4] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
39:23 INFO [taskExecutor-4] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
39:23 INFO [taskExecutor-4] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
39:23 INFO [taskExecutor-4] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
39:23 INFO [taskExecutor-4] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
39:23 INFO [taskExecutor-4] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8121, deviceId=20998, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 06:39:23, TimeStamp=1522910363304, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
39:23 INFO [taskExecutor-4] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
39:23 INFO [taskExecutor-4] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2014-12-10T16:51:25.329587
39:23 INFO [taskExecutor-4] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
39:23 INFO [taskExecutor-4] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
39:23 INFO [taskExecutor-4] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
39:23 INFO [taskExecutor-4] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-05-06-38-23_A_12_24050040_100.tar.gz.enc)
39:23 INFO [taskExecutor-4] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
39:23 INFO [taskExecutor-4] [RegionValidator.isValidRegion()] - Start to validate Region
39:23 INFO [taskExecutor-4] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
39:23 INFO [taskExecutor-4] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
39:23 INFO [taskExecutor-4] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
39:23 INFO [taskExecutor-4] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=90, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=false, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23050005, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=09.03.13-17.13.06, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-10 16:51:25, TimeStamp=1418230285329, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose Tidal, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=385, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=5999.600000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=304], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=511, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
39:23 INFO [taskExecutor-4] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
39:23 INFO [taskExecutor-4] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
39:23 INFO [taskExecutor-4] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
39:23 INFO [taskExecutor-4] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
39:23 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 3 - 1.
39:23 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 2, 3, 1.
39:23 INFO [taskExecutor-4] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
39:23 ERROR [taskExecutor-4] [AmiaSettingRevisionUtil.validateSettingRevision()] - New Horizon revision should not smaller than Device
39:24 ERROR [taskExecutor-4] [ExceptionLogger.handleError()] - Exception in integration flow. Account ID: -1
org.springframework.integration.MessageHandlingException: java.lang.IllegalStateException: New Horizon revision should not smaller than Device
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:76)
	at org.springframework.integration.handler.ServiceActivatingHandler.handleRequestMessage(ServiceActivatingHandler.java:64)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:97)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.router.AbstractMessageRouter.handleMessageInternal(AbstractMessageRouter.java:128)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.core.MessagingTemplate.convertAndSend(MessagingTemplate.java:189)
	at org.springframework.integration.gateway.MessagingGatewaySupport.send(MessagingGatewaySupport.java:183)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener$GatewayDelegate.send(ChannelPublishingJmsMessageListener.java:423)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener.onMessage(ChannelPublishingJmsMessageListener.java:277)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:535)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:495)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:467)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:325)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:243)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1058)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:952)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)
Caused by: java.lang.IllegalStateException: New Horizon revision should not smaller than Device
	at com.baxter.renal.nh.util.AmiaSettingRevisionUtil.validateSettingRevision(AmiaSettingRevisionUtil.java:58)
	at com.baxter.renal.nh.integration.AmiaTreatmentPersistenceService.persistTreatment(AmiaTreatmentPersistenceService.java:99)
	at com.baxter.renal.nh.integration.AmiaTreatmentPersistenceService$$FastClassByCGLIB$$b020291d.invoke(<generated>)
	at net.sf.cglib.proxy.MethodProxy.invoke(MethodProxy.java:191)
	at org.springframework.aop.framework.Cglib2AopProxy$CglibMethodInvocation.invokeJoinpoint(Cglib2AopProxy.java:688)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:621)
	at com.baxter.renal.nh.integration.AmiaTreatmentPersistenceService$$EnhancerByCGLIB$$63b3f2d5.persistTreatment(<generated>)
	at sun.reflect.GeneratedMethodAccessor647.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:69)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:83)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:57)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:102)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:102)
	at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:126)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:225)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:125)
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:73)
	... 201 more
39:24 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
39:24 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 138110
39:24 INFO [taskExecutor-4] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
39:24 INFO [taskExecutor-4] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
39:24 INFO [taskExecutor-4] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
39:24 INFO [taskExecutor-4] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
39:24 INFO [taskExecutor-4] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
39:24 INFO [taskExecutor-4] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8121, deviceId=20998, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 06:39:24, TimeStamp=1522910364879, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
39:24 INFO [taskExecutor-4] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
39:24 INFO [taskExecutor-4] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2014-12-10T16:51:25.329587
39:24 INFO [taskExecutor-4] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
39:24 INFO [taskExecutor-4] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
39:25 INFO [taskExecutor-4] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
39:25 INFO [taskExecutor-4] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-05-06-38-23_A_12_24050040_100.tar.gz.enc)
39:25 INFO [taskExecutor-4] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
39:25 INFO [taskExecutor-4] [RegionValidator.isValidRegion()] - Start to validate Region
39:25 INFO [taskExecutor-4] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
39:25 INFO [taskExecutor-4] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
39:25 INFO [taskExecutor-4] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
39:25 INFO [taskExecutor-4] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=90, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=false, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23050005, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=09.03.13-17.13.06, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-10 16:51:25, TimeStamp=1418230285329, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose Tidal, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=385, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=5999.600000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=304], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=511, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
39:25 INFO [taskExecutor-4] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
39:25 INFO [taskExecutor-4] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
39:25 INFO [taskExecutor-4] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
39:25 INFO [taskExecutor-4] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
39:25 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 3 - 1.
39:25 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 2, 3, 1.
39:25 INFO [taskExecutor-4] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
39:25 ERROR [taskExecutor-4] [AmiaSettingRevisionUtil.validateSettingRevision()] - New Horizon revision should not smaller than Device
39:25 ERROR [taskExecutor-4] [ExceptionLogger.handleError()] - Exception in integration flow. Account ID: -1
org.springframework.integration.MessageHandlingException: java.lang.IllegalStateException: New Horizon revision should not smaller than Device
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:76)
	at org.springframework.integration.handler.ServiceActivatingHandler.handleRequestMessage(ServiceActivatingHandler.java:64)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:97)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.router.AbstractMessageRouter.handleMessageInternal(AbstractMessageRouter.java:128)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.core.MessagingTemplate.convertAndSend(MessagingTemplate.java:189)
	at org.springframework.integration.gateway.MessagingGatewaySupport.send(MessagingGatewaySupport.java:183)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener$GatewayDelegate.send(ChannelPublishingJmsMessageListener.java:423)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener.onMessage(ChannelPublishingJmsMessageListener.java:277)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:535)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:495)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:467)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:325)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:243)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1058)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:952)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)
Caused by: java.lang.IllegalStateException: New Horizon revision should not smaller than Device
	at com.baxter.renal.nh.util.AmiaSettingRevisionUtil.validateSettingRevision(AmiaSettingRevisionUtil.java:58)
	at com.baxter.renal.nh.integration.AmiaTreatmentPersistenceService.persistTreatment(AmiaTreatmentPersistenceService.java:99)
	at com.baxter.renal.nh.integration.AmiaTreatmentPersistenceService$$FastClassByCGLIB$$b020291d.invoke(<generated>)
	at net.sf.cglib.proxy.MethodProxy.invoke(MethodProxy.java:191)
	at org.springframework.aop.framework.Cglib2AopProxy$CglibMethodInvocation.invokeJoinpoint(Cglib2AopProxy.java:688)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:621)
	at com.baxter.renal.nh.integration.AmiaTreatmentPersistenceService$$EnhancerByCGLIB$$63b3f2d5.persistTreatment(<generated>)
	at sun.reflect.GeneratedMethodAccessor647.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:69)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:83)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:57)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:102)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:102)
	at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:126)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:225)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:125)
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:73)
	... 201 more
39:25 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
39:25 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 138110
39:25 INFO [taskExecutor-4] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
39:25 INFO [taskExecutor-4] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
39:25 INFO [taskExecutor-4] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
39:25 INFO [taskExecutor-4] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
39:25 INFO [taskExecutor-4] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
39:25 INFO [taskExecutor-4] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8121, deviceId=20998, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 06:39:25, TimeStamp=1522910365784, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
39:25 INFO [taskExecutor-4] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
39:25 INFO [taskExecutor-4] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2014-12-10T16:51:25.329587
39:25 INFO [taskExecutor-4] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
39:25 INFO [taskExecutor-4] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
39:26 INFO [taskExecutor-4] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
39:26 INFO [taskExecutor-4] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-05-06-38-23_A_12_24050040_100.tar.gz.enc)
39:26 INFO [taskExecutor-4] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
39:26 INFO [taskExecutor-4] [RegionValidator.isValidRegion()] - Start to validate Region
39:26 INFO [taskExecutor-4] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
39:26 INFO [taskExecutor-4] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
39:26 INFO [taskExecutor-4] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
39:26 INFO [taskExecutor-4] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=90, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=false, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23050005, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=09.03.13-17.13.06, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-10 16:51:25, TimeStamp=1418230285329, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose Tidal, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=385, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=5999.600000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=304], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=511, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
39:26 INFO [taskExecutor-4] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
39:26 INFO [taskExecutor-4] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
39:26 INFO [taskExecutor-4] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
39:26 INFO [taskExecutor-4] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
39:26 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 3 - 1.
39:26 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 2, 3, 1.
39:26 INFO [taskExecutor-4] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
39:26 ERROR [taskExecutor-4] [AmiaSettingRevisionUtil.validateSettingRevision()] - New Horizon revision should not smaller than Device
39:26 ERROR [taskExecutor-4] [ExceptionLogger.handleError()] - Exception in integration flow. Account ID: -1
org.springframework.integration.MessageHandlingException: java.lang.IllegalStateException: New Horizon revision should not smaller than Device
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:76)
	at org.springframework.integration.handler.ServiceActivatingHandler.handleRequestMessage(ServiceActivatingHandler.java:64)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:97)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.router.AbstractMessageRouter.handleMessageInternal(AbstractMessageRouter.java:128)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.core.MessagingTemplate.convertAndSend(MessagingTemplate.java:189)
	at org.springframework.integration.gateway.MessagingGatewaySupport.send(MessagingGatewaySupport.java:183)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener$GatewayDelegate.send(ChannelPublishingJmsMessageListener.java:423)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener.onMessage(ChannelPublishingJmsMessageListener.java:277)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:535)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:495)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:467)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:325)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:243)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1058)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:952)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)
Caused by: java.lang.IllegalStateException: New Horizon revision should not smaller than Device
	at com.baxter.renal.nh.util.AmiaSettingRevisionUtil.validateSettingRevision(AmiaSettingRevisionUtil.java:58)
	at com.baxter.renal.nh.integration.AmiaTreatmentPersistenceService.persistTreatment(AmiaTreatmentPersistenceService.java:99)
	at com.baxter.renal.nh.integration.AmiaTreatmentPersistenceService$$FastClassByCGLIB$$b020291d.invoke(<generated>)
	at net.sf.cglib.proxy.MethodProxy.invoke(MethodProxy.java:191)
	at org.springframework.aop.framework.Cglib2AopProxy$CglibMethodInvocation.invokeJoinpoint(Cglib2AopProxy.java:688)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:621)
	at com.baxter.renal.nh.integration.AmiaTreatmentPersistenceService$$EnhancerByCGLIB$$63b3f2d5.persistTreatment(<generated>)
	at sun.reflect.GeneratedMethodAccessor647.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:69)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:83)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:57)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:102)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:102)
	at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:126)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:225)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:125)
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:73)
	... 201 more
39:26 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
39:26 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 138110
39:26 INFO [taskExecutor-4] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
39:26 INFO [taskExecutor-4] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
39:26 INFO [taskExecutor-4] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
39:26 INFO [taskExecutor-4] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
39:26 INFO [taskExecutor-4] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
39:26 INFO [taskExecutor-4] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8121, deviceId=20998, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 06:39:26, TimeStamp=1522910366626, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
39:26 INFO [taskExecutor-4] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
39:26 INFO [taskExecutor-4] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2014-12-10T16:51:25.329587
39:26 INFO [taskExecutor-4] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
39:26 INFO [taskExecutor-4] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
39:26 INFO [taskExecutor-4] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
39:26 INFO [taskExecutor-4] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-05-06-38-23_A_12_24050040_100.tar.gz.enc)
39:26 INFO [taskExecutor-4] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
39:26 INFO [taskExecutor-4] [RegionValidator.isValidRegion()] - Start to validate Region
39:26 INFO [taskExecutor-4] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
39:26 INFO [taskExecutor-4] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
39:26 INFO [taskExecutor-4] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
39:26 INFO [taskExecutor-4] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=90, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=false, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23050005, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=09.03.13-17.13.06, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-10 16:51:25, TimeStamp=1418230285329, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose Tidal, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=385, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=5999.600000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=304], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=511, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
39:26 INFO [taskExecutor-4] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
39:26 INFO [taskExecutor-4] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
39:26 INFO [taskExecutor-4] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
39:26 INFO [taskExecutor-4] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
39:26 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 3 - 1.
39:26 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 2, 3, 1.
39:26 INFO [taskExecutor-4] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
39:26 ERROR [taskExecutor-4] [AmiaSettingRevisionUtil.validateSettingRevision()] - New Horizon revision should not smaller than Device
39:27 ERROR [taskExecutor-4] [ExceptionLogger.handleError()] - Exception in integration flow. Account ID: -1
org.springframework.integration.MessageHandlingException: java.lang.IllegalStateException: New Horizon revision should not smaller than Device
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:76)
	at org.springframework.integration.handler.ServiceActivatingHandler.handleRequestMessage(ServiceActivatingHandler.java:64)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:97)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.router.AbstractMessageRouter.handleMessageInternal(AbstractMessageRouter.java:128)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.core.MessagingTemplate.convertAndSend(MessagingTemplate.java:189)
	at org.springframework.integration.gateway.MessagingGatewaySupport.send(MessagingGatewaySupport.java:183)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener$GatewayDelegate.send(ChannelPublishingJmsMessageListener.java:423)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener.onMessage(ChannelPublishingJmsMessageListener.java:277)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:535)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:495)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:467)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:325)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:243)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1058)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:952)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)
Caused by: java.lang.IllegalStateException: New Horizon revision should not smaller than Device
	at com.baxter.renal.nh.util.AmiaSettingRevisionUtil.validateSettingRevision(AmiaSettingRevisionUtil.java:58)
	at com.baxter.renal.nh.integration.AmiaTreatmentPersistenceService.persistTreatment(AmiaTreatmentPersistenceService.java:99)
	at com.baxter.renal.nh.integration.AmiaTreatmentPersistenceService$$FastClassByCGLIB$$b020291d.invoke(<generated>)
	at net.sf.cglib.proxy.MethodProxy.invoke(MethodProxy.java:191)
	at org.springframework.aop.framework.Cglib2AopProxy$CglibMethodInvocation.invokeJoinpoint(Cglib2AopProxy.java:688)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:621)
	at com.baxter.renal.nh.integration.AmiaTreatmentPersistenceService$$EnhancerByCGLIB$$63b3f2d5.persistTreatment(<generated>)
	at sun.reflect.GeneratedMethodAccessor647.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:69)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:83)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:57)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:102)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:102)
	at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:126)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:225)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:125)
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:73)
	... 201 more
39:27 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
39:27 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 138110
39:27 INFO [taskExecutor-4] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
39:27 INFO [taskExecutor-4] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
39:27 INFO [taskExecutor-4] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
39:27 INFO [taskExecutor-4] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
39:27 INFO [taskExecutor-4] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
39:27 INFO [taskExecutor-4] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8121, deviceId=20998, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 06:39:27, TimeStamp=1522910367438, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
39:27 INFO [taskExecutor-4] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
39:27 INFO [taskExecutor-4] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2014-12-10T16:51:25.329587
39:27 INFO [taskExecutor-4] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
39:27 INFO [taskExecutor-4] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
39:27 INFO [taskExecutor-4] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
39:27 INFO [taskExecutor-4] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-05-06-38-23_A_12_24050040_100.tar.gz.enc)
39:27 INFO [taskExecutor-4] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
39:27 INFO [taskExecutor-4] [RegionValidator.isValidRegion()] - Start to validate Region
39:27 INFO [taskExecutor-4] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
39:27 INFO [taskExecutor-4] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
39:27 INFO [taskExecutor-4] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
39:27 INFO [taskExecutor-4] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=90, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=false, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23050005, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=09.03.13-17.13.06, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-10 16:51:25, TimeStamp=1418230285329, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose Tidal, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=385, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=5999.600000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=304], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=511, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
39:27 INFO [taskExecutor-4] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
39:27 INFO [taskExecutor-4] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
39:27 INFO [taskExecutor-4] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
39:27 INFO [taskExecutor-4] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
39:27 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 3 - 1.
39:27 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 2, 3, 1.
39:27 INFO [taskExecutor-4] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
39:27 ERROR [taskExecutor-4] [AmiaSettingRevisionUtil.validateSettingRevision()] - New Horizon revision should not smaller than Device
39:27 ERROR [taskExecutor-4] [ExceptionLogger.handleError()] - Exception in integration flow. Account ID: -1
org.springframework.integration.MessageHandlingException: java.lang.IllegalStateException: New Horizon revision should not smaller than Device
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:76)
	at org.springframework.integration.handler.ServiceActivatingHandler.handleRequestMessage(ServiceActivatingHandler.java:64)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:97)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.router.AbstractMessageRouter.handleMessageInternal(AbstractMessageRouter.java:128)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.core.MessagingTemplate.convertAndSend(MessagingTemplate.java:189)
	at org.springframework.integration.gateway.MessagingGatewaySupport.send(MessagingGatewaySupport.java:183)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener$GatewayDelegate.send(ChannelPublishingJmsMessageListener.java:423)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener.onMessage(ChannelPublishingJmsMessageListener.java:277)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:535)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:495)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:467)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:325)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:243)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1058)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:952)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)
Caused by: java.lang.IllegalStateException: New Horizon revision should not smaller than Device
	at com.baxter.renal.nh.util.AmiaSettingRevisionUtil.validateSettingRevision(AmiaSettingRevisionUtil.java:58)
	at com.baxter.renal.nh.integration.AmiaTreatmentPersistenceService.persistTreatment(AmiaTreatmentPersistenceService.java:99)
	at com.baxter.renal.nh.integration.AmiaTreatmentPersistenceService$$FastClassByCGLIB$$b020291d.invoke(<generated>)
	at net.sf.cglib.proxy.MethodProxy.invoke(MethodProxy.java:191)
	at org.springframework.aop.framework.Cglib2AopProxy$CglibMethodInvocation.invokeJoinpoint(Cglib2AopProxy.java:688)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:621)
	at com.baxter.renal.nh.integration.AmiaTreatmentPersistenceService$$EnhancerByCGLIB$$63b3f2d5.persistTreatment(<generated>)
	at sun.reflect.GeneratedMethodAccessor647.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:69)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:83)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:57)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:102)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:102)
	at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:126)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:225)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:125)
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:73)
	... 201 more
42:41 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
42:41 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 618250
42:41 INFO [taskExecutor-4] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
42:41 ERROR [taskExecutor-4] [ExceptionLogger.handleError()] - Exception in integration flow. Account ID: -1
org.springframework.integration.MessageHandlingException: com.baxter.renal.nh.exception.NHApplicationException: Error validating XML.
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:76)
	at org.springframework.integration.filter.AbstractMessageProcessingSelector.accept(AbstractMessageProcessingSelector.java:59)
	at org.springframework.integration.filter.MessageFilter.handleRequestMessage(MessageFilter.java:103)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:97)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.router.AbstractMessageRouter.handleMessageInternal(AbstractMessageRouter.java:128)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.core.MessagingTemplate.convertAndSend(MessagingTemplate.java:189)
	at org.springframework.integration.gateway.MessagingGatewaySupport.send(MessagingGatewaySupport.java:183)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener$GatewayDelegate.send(ChannelPublishingJmsMessageListener.java:423)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener.onMessage(ChannelPublishingJmsMessageListener.java:277)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:535)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:495)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:467)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:325)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:243)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1058)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:952)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)
Caused by: com.baxter.renal.nh.exception.NHApplicationException: Error validating XML.
	at com.baxter.renal.nh.settings.integration.XMLValidator.handleValidationException(XMLValidator.java:294)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateXml(XMLValidator.java:281)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateTreatmentLogXml(XMLValidator.java:104)
	at sun.reflect.GeneratedMethodAccessor634.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:69)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:83)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:57)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:102)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:102)
	at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:126)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:225)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:125)
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:73)
	... 59 more
Caused by: org.xml.sax.SAXParseException: cvc-complex-type.2.4.a: Invalid content was found starting with element 'Patient'. One of '{Clinic}' is expected.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleStartElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.startElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.jaxp.validation.StreamValidatorHelper.validate(Unknown Source)
	at com.sun.org.apache.xerces.internal.jaxp.validation.ValidatorImpl.validate(Unknown Source)
	at javax.xml.validation.Validator.validate(Unknown Source)
	at com.baxter.renal.nh.arch.util.XmlUtil.validateXml(XmlUtil.java:145)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateXml(XMLValidator.java:276)
	... 72 more
42:43 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
42:43 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 618250
42:43 INFO [taskExecutor-4] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
42:43 ERROR [taskExecutor-4] [ExceptionLogger.handleError()] - Exception in integration flow. Account ID: -1
org.springframework.integration.MessageHandlingException: com.baxter.renal.nh.exception.NHApplicationException: Error validating XML.
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:76)
	at org.springframework.integration.filter.AbstractMessageProcessingSelector.accept(AbstractMessageProcessingSelector.java:59)
	at org.springframework.integration.filter.MessageFilter.handleRequestMessage(MessageFilter.java:103)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:97)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.router.AbstractMessageRouter.handleMessageInternal(AbstractMessageRouter.java:128)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.core.MessagingTemplate.convertAndSend(MessagingTemplate.java:189)
	at org.springframework.integration.gateway.MessagingGatewaySupport.send(MessagingGatewaySupport.java:183)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener$GatewayDelegate.send(ChannelPublishingJmsMessageListener.java:423)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener.onMessage(ChannelPublishingJmsMessageListener.java:277)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:535)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:495)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:467)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:325)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:243)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1058)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:952)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)
Caused by: com.baxter.renal.nh.exception.NHApplicationException: Error validating XML.
	at com.baxter.renal.nh.settings.integration.XMLValidator.handleValidationException(XMLValidator.java:294)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateXml(XMLValidator.java:281)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateTreatmentLogXml(XMLValidator.java:104)
	at sun.reflect.GeneratedMethodAccessor634.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:69)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:83)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:57)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:102)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:102)
	at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:126)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:225)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:125)
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:73)
	... 59 more
Caused by: org.xml.sax.SAXParseException: cvc-complex-type.2.4.a: Invalid content was found starting with element 'Patient'. One of '{Clinic}' is expected.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleStartElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.startElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.jaxp.validation.StreamValidatorHelper.validate(Unknown Source)
	at com.sun.org.apache.xerces.internal.jaxp.validation.ValidatorImpl.validate(Unknown Source)
	at javax.xml.validation.Validator.validate(Unknown Source)
	at com.baxter.renal.nh.arch.util.XmlUtil.validateXml(XmlUtil.java:145)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateXml(XMLValidator.java:276)
	... 72 more
42:44 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
42:44 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 618250
42:44 INFO [taskExecutor-4] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
42:44 ERROR [taskExecutor-4] [ExceptionLogger.handleError()] - Exception in integration flow. Account ID: -1
org.springframework.integration.MessageHandlingException: com.baxter.renal.nh.exception.NHApplicationException: Error validating XML.
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:76)
	at org.springframework.integration.filter.AbstractMessageProcessingSelector.accept(AbstractMessageProcessingSelector.java:59)
	at org.springframework.integration.filter.MessageFilter.handleRequestMessage(MessageFilter.java:103)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:97)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.router.AbstractMessageRouter.handleMessageInternal(AbstractMessageRouter.java:128)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.core.MessagingTemplate.convertAndSend(MessagingTemplate.java:189)
	at org.springframework.integration.gateway.MessagingGatewaySupport.send(MessagingGatewaySupport.java:183)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener$GatewayDelegate.send(ChannelPublishingJmsMessageListener.java:423)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener.onMessage(ChannelPublishingJmsMessageListener.java:277)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:535)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:495)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:467)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:325)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:243)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1058)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:952)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)
Caused by: com.baxter.renal.nh.exception.NHApplicationException: Error validating XML.
	at com.baxter.renal.nh.settings.integration.XMLValidator.handleValidationException(XMLValidator.java:294)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateXml(XMLValidator.java:281)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateTreatmentLogXml(XMLValidator.java:104)
	at sun.reflect.GeneratedMethodAccessor634.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:69)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:83)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:57)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:102)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:102)
	at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:126)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:225)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:125)
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:73)
	... 59 more
Caused by: org.xml.sax.SAXParseException: cvc-complex-type.2.4.a: Invalid content was found starting with element 'Patient'. One of '{Clinic}' is expected.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleStartElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.startElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.jaxp.validation.StreamValidatorHelper.validate(Unknown Source)
	at com.sun.org.apache.xerces.internal.jaxp.validation.ValidatorImpl.validate(Unknown Source)
	at javax.xml.validation.Validator.validate(Unknown Source)
	at com.baxter.renal.nh.arch.util.XmlUtil.validateXml(XmlUtil.java:145)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateXml(XMLValidator.java:276)
	... 72 more
42:44 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
42:44 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 618250
42:44 INFO [taskExecutor-4] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
42:44 ERROR [taskExecutor-4] [ExceptionLogger.handleError()] - Exception in integration flow. Account ID: -1
org.springframework.integration.MessageHandlingException: com.baxter.renal.nh.exception.NHApplicationException: Error validating XML.
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:76)
	at org.springframework.integration.filter.AbstractMessageProcessingSelector.accept(AbstractMessageProcessingSelector.java:59)
	at org.springframework.integration.filter.MessageFilter.handleRequestMessage(MessageFilter.java:103)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:97)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.router.AbstractMessageRouter.handleMessageInternal(AbstractMessageRouter.java:128)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.core.MessagingTemplate.convertAndSend(MessagingTemplate.java:189)
	at org.springframework.integration.gateway.MessagingGatewaySupport.send(MessagingGatewaySupport.java:183)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener$GatewayDelegate.send(ChannelPublishingJmsMessageListener.java:423)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener.onMessage(ChannelPublishingJmsMessageListener.java:277)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:535)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:495)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:467)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:325)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:243)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1058)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:952)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)
Caused by: com.baxter.renal.nh.exception.NHApplicationException: Error validating XML.
	at com.baxter.renal.nh.settings.integration.XMLValidator.handleValidationException(XMLValidator.java:294)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateXml(XMLValidator.java:281)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateTreatmentLogXml(XMLValidator.java:104)
	at sun.reflect.GeneratedMethodAccessor634.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:69)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:83)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:57)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:102)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:102)
	at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:126)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:225)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:125)
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:73)
	... 59 more
Caused by: org.xml.sax.SAXParseException: cvc-complex-type.2.4.a: Invalid content was found starting with element 'Patient'. One of '{Clinic}' is expected.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleStartElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.startElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.jaxp.validation.StreamValidatorHelper.validate(Unknown Source)
	at com.sun.org.apache.xerces.internal.jaxp.validation.ValidatorImpl.validate(Unknown Source)
	at javax.xml.validation.Validator.validate(Unknown Source)
	at com.baxter.renal.nh.arch.util.XmlUtil.validateXml(XmlUtil.java:145)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateXml(XMLValidator.java:276)
	... 72 more
42:45 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
42:45 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 618250
42:45 INFO [taskExecutor-4] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
42:45 ERROR [taskExecutor-4] [ExceptionLogger.handleError()] - Exception in integration flow. Account ID: -1
org.springframework.integration.MessageHandlingException: com.baxter.renal.nh.exception.NHApplicationException: Error validating XML.
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:76)
	at org.springframework.integration.filter.AbstractMessageProcessingSelector.accept(AbstractMessageProcessingSelector.java:59)
	at org.springframework.integration.filter.MessageFilter.handleRequestMessage(MessageFilter.java:103)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:97)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.router.AbstractMessageRouter.handleMessageInternal(AbstractMessageRouter.java:128)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:128)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendMessage(AbstractReplyProducingMessageHandler.java:175)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.sendReplyMessage(AbstractReplyProducingMessageHandler.java:159)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.produceReply(AbstractReplyProducingMessageHandler.java:124)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleResult(AbstractReplyProducingMessageHandler.java:118)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:100)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:114)
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:101)
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:61)
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:157)
	at org.springframework.integration.core.MessagingTemplate.doSend(MessagingTemplate.java:288)
	at org.springframework.integration.core.MessagingTemplate.send(MessagingTemplate.java:149)
	at org.springframework.integration.core.MessagingTemplate.convertAndSend(MessagingTemplate.java:189)
	at org.springframework.integration.gateway.MessagingGatewaySupport.send(MessagingGatewaySupport.java:183)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener$GatewayDelegate.send(ChannelPublishingJmsMessageListener.java:423)
	at org.springframework.integration.jms.ChannelPublishingJmsMessageListener.onMessage(ChannelPublishingJmsMessageListener.java:277)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:535)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:495)
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:467)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:325)
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:243)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1058)
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:952)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)
Caused by: com.baxter.renal.nh.exception.NHApplicationException: Error validating XML.
	at com.baxter.renal.nh.settings.integration.XMLValidator.handleValidationException(XMLValidator.java:294)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateXml(XMLValidator.java:281)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateTreatmentLogXml(XMLValidator.java:104)
	at sun.reflect.GeneratedMethodAccessor634.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:69)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:83)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:57)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:102)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:102)
	at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:126)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:225)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:125)
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:73)
	... 59 more
Caused by: org.xml.sax.SAXParseException: cvc-complex-type.2.4.a: Invalid content was found starting with element 'Patient'. One of '{Clinic}' is expected.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleStartElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.startElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.jaxp.validation.StreamValidatorHelper.validate(Unknown Source)
	at com.sun.org.apache.xerces.internal.jaxp.validation.ValidatorImpl.validate(Unknown Source)
	at javax.xml.validation.Validator.validate(Unknown Source)
	at com.baxter.renal.nh.arch.util.XmlUtil.validateXml(XmlUtil.java:145)
	at com.baxter.renal.nh.settings.integration.XMLValidator.validateXml(XMLValidator.java:276)
	... 72 more
47:27 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
47:27 INFO [taskExecutor-4] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 138110
47:28 INFO [taskExecutor-4] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
47:28 INFO [taskExecutor-4] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
47:28 INFO [taskExecutor-4] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
47:28 INFO [taskExecutor-4] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
47:28 INFO [taskExecutor-4] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
47:28 INFO [taskExecutor-4] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8121, deviceId=20998, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 06:47:28, TimeStamp=1522910848155, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
47:28 INFO [taskExecutor-4] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
47:28 INFO [taskExecutor-4] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2014-12-10T16:51:25.329587
47:28 INFO [taskExecutor-4] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
47:28 INFO [taskExecutor-4] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
47:28 INFO [taskExecutor-4] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
47:28 INFO [taskExecutor-4] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-05-06-46-16_A_12_24050025_100.tar.gz.enc)
47:28 INFO [taskExecutor-4] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
47:28 INFO [taskExecutor-4] [RegionValidator.isValidRegion()] - Start to validate Region
47:28 INFO [taskExecutor-4] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
47:28 INFO [taskExecutor-4] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
47:28 INFO [taskExecutor-4] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
47:28 INFO [taskExecutor-4] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=90, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=false, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23050005, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=09.03.13-17.13.06, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-10 16:51:25, TimeStamp=1418230285329, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose Tidal, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=385, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=5999.600000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=304], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=511, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
47:28 INFO [taskExecutor-4] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
47:28 INFO [taskExecutor-4] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
47:28 INFO [taskExecutor-4] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
47:28 INFO [taskExecutor-4] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
47:28 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 3 - 1.
47:28 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 3, 1.
47:28 INFO [taskExecutor-4] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
47:28 INFO [taskExecutor-4] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
47:28 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
47:28 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
47:30 INFO [taskExecutor-4] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005529)
47:30 INFO [taskExecutor-4] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
47:30 INFO [taskExecutor-4] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009468, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-10 16:51:25, TimeStamp=1418230285329, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
47:30 INFO [taskExecutor-4] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
47:30 INFO [taskExecutor-4] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 3 - 1.
47:30 INFO [taskExecutor-4] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 3, 1.
47:30 INFO [taskExecutor-4] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
47:30 INFO [taskExecutor-4] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
47:30 INFO [taskExecutor-4] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005529
05:09 INFO [taskExecutor-2] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
05:09 INFO [taskExecutor-2] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 138110
05:09 INFO [taskExecutor-2] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
05:09 INFO [taskExecutor-2] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
05:09 INFO [taskExecutor-2] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
05:09 INFO [taskExecutor-2] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
05:09 INFO [taskExecutor-2] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
05:09 INFO [taskExecutor-2] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8121, deviceId=20998, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 07:05:09, TimeStamp=1522911909476, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
05:09 INFO [taskExecutor-2] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
05:09 INFO [taskExecutor-2] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2014-12-10T16:51:25.329587
05:09 INFO [taskExecutor-2] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
05:09 INFO [taskExecutor-2] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
05:09 INFO [taskExecutor-2] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
05:09 INFO [taskExecutor-2] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-05-07-03-50_A_12_24050026_100.tar.gz.enc)
05:09 INFO [taskExecutor-2] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
05:09 INFO [taskExecutor-2] [RegionValidator.isValidRegion()] - Start to validate Region
05:09 INFO [taskExecutor-2] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
05:09 INFO [taskExecutor-2] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
05:09 INFO [taskExecutor-2] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
05:09 INFO [taskExecutor-2] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=90, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=false, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23050005, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=09.03.13-17.13.06, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-10 16:51:25, TimeStamp=1418230285329, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose Tidal, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=385, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=5999.600000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=304], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=511, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
05:09 INFO [taskExecutor-2] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
05:09 INFO [taskExecutor-2] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
05:09 INFO [taskExecutor-2] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
05:09 INFO [taskExecutor-2] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
05:09 INFO [taskExecutor-2] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 3 - 1.
05:09 INFO [taskExecutor-2] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 3, 1.
05:09 INFO [taskExecutor-2] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
05:09 INFO [taskExecutor-2] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
05:09 INFO [taskExecutor-2] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
05:09 INFO [taskExecutor-2] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
05:11 INFO [taskExecutor-2] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005530)
05:11 INFO [taskExecutor-2] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
05:11 INFO [taskExecutor-2] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009469, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-10 16:51:25, TimeStamp=1418230285329, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
05:11 INFO [taskExecutor-2] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
05:11 INFO [taskExecutor-2] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 3 - 1.
05:11 INFO [taskExecutor-2] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 3, 1.
05:11 INFO [taskExecutor-2] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
05:11 INFO [taskExecutor-2] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
05:11 INFO [taskExecutor-2] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005530
36:46 INFO [taskExecutor-9] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
36:46 INFO [taskExecutor-9] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 143094
36:46 INFO [taskExecutor-9] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
36:46 INFO [taskExecutor-9] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
36:46 INFO [taskExecutor-9] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
36:46 INFO [taskExecutor-9] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
36:46 INFO [taskExecutor-9] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
36:46 INFO [taskExecutor-9] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8099, deviceId=20998, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 09:36:46, TimeStamp=1522921006540, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
36:46 INFO [taskExecutor-9] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
36:46 INFO [taskExecutor-9] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2018-04-04T16:51:25.329587
36:46 INFO [taskExecutor-9] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
36:46 INFO [taskExecutor-9] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
36:46 INFO [taskExecutor-9] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
36:46 INFO [taskExecutor-9] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-05-09-32-42_A_12_24050029_100.tar.gz.enc)
36:46 INFO [taskExecutor-9] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
36:46 INFO [taskExecutor-9] [RegionValidator.isValidRegion()] - Start to validate Region
36:46 INFO [taskExecutor-9] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
36:46 INFO [taskExecutor-9] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
36:46 INFO [taskExecutor-9] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
36:46 INFO [taskExecutor-9] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=90, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=120.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=75.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=76.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=98.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=99.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=91, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=90.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=122.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=false, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23050005, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=09.03.13-17.13.06, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-04 16:51:25, TimeStamp=1522860685329, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=6233, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2999.300000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2499.900000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=999.100000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=302], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1999.200000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=6359, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
36:46 INFO [taskExecutor-9] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
36:46 INFO [taskExecutor-9] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
36:46 INFO [taskExecutor-9] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
36:46 INFO [taskExecutor-9] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
36:46 INFO [taskExecutor-9] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
36:46 INFO [taskExecutor-9] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
36:46 INFO [taskExecutor-9] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
36:46 INFO [taskExecutor-9] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
36:46 INFO [taskExecutor-9] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
36:46 INFO [taskExecutor-9] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
36:47 INFO [taskExecutor-9] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005531)
36:48 INFO [taskExecutor-9] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
36:48 INFO [taskExecutor-9] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009470, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-04 16:51:25, TimeStamp=1522860685329, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
36:48 INFO [taskExecutor-9] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
36:48 INFO [taskExecutor-9] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
36:48 INFO [taskExecutor-9] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
36:48 INFO [taskExecutor-9] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
36:48 INFO [taskExecutor-9] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
36:48 INFO [taskExecutor-9] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005531
38:31 INFO [taskExecutor-1] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
38:31 INFO [taskExecutor-1] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 143094
38:31 INFO [taskExecutor-1] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
38:31 INFO [taskExecutor-1] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
38:31 INFO [taskExecutor-1] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
38:31 INFO [taskExecutor-1] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
38:31 INFO [taskExecutor-1] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
38:31 INFO [taskExecutor-1] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8099, deviceId=20998, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 09:38:31, TimeStamp=1522921111482, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
38:31 INFO [taskExecutor-1] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
38:31 INFO [taskExecutor-1] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2018-04-04T16:51:25.329587
38:31 INFO [taskExecutor-1] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
38:31 INFO [taskExecutor-1] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
38:31 INFO [taskExecutor-1] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
38:31 INFO [taskExecutor-1] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-05-09-37-19_A_12_24050025_100.tar.gz.enc)
38:31 INFO [taskExecutor-1] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
38:31 INFO [taskExecutor-1] [RegionValidator.isValidRegion()] - Start to validate Region
38:31 INFO [taskExecutor-1] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
38:31 INFO [taskExecutor-1] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
38:31 INFO [taskExecutor-1] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
38:31 INFO [taskExecutor-1] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=90, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=120.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=75.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=76.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=98.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=99.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=91, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=90.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=122.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=false, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23050005, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=09.03.13-17.13.06, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-04 16:51:25, TimeStamp=1522860685329, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=4010, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2999.300000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2499.900000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=999.100000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=302], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1999.200000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=4136, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
38:31 INFO [taskExecutor-1] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
38:31 INFO [taskExecutor-1] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
38:31 INFO [taskExecutor-1] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
38:31 INFO [taskExecutor-1] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
38:31 INFO [taskExecutor-1] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
38:31 INFO [taskExecutor-1] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
38:31 INFO [taskExecutor-1] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
38:31 INFO [taskExecutor-1] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
38:31 INFO [taskExecutor-1] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
38:31 INFO [taskExecutor-1] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
38:32 INFO [taskExecutor-1] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005532)
38:32 INFO [taskExecutor-1] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
38:33 INFO [taskExecutor-1] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009471, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-04 16:51:25, TimeStamp=1522860685329, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
38:33 INFO [taskExecutor-1] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
38:33 INFO [taskExecutor-1] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
38:33 INFO [taskExecutor-1] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
38:33 INFO [taskExecutor-1] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
38:33 INFO [taskExecutor-1] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
38:33 INFO [taskExecutor-1] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005532
50:01 INFO [taskExecutor-11] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
50:01 INFO [taskExecutor-11] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 143109
50:01 INFO [taskExecutor-11] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
50:01 INFO [taskExecutor-11] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
50:01 INFO [taskExecutor-11] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
50:01 INFO [taskExecutor-11] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
50:01 INFO [taskExecutor-11] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
50:01 INFO [taskExecutor-11] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8099, deviceId=20998, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 09:50:01, TimeStamp=1522921801318, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
50:01 INFO [taskExecutor-11] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
50:01 INFO [taskExecutor-11] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2018-04-05T16:51:25.329587
50:01 INFO [taskExecutor-11] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
50:01 INFO [taskExecutor-11] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
50:01 INFO [taskExecutor-11] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
50:01 INFO [taskExecutor-11] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-05-09-48-54_A_12_24050040_100.tar.gz.enc)
50:01 INFO [taskExecutor-11] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
50:01 INFO [taskExecutor-11] [RegionValidator.isValidRegion()] - Start to validate Region
50:01 INFO [taskExecutor-11] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
50:01 INFO [taskExecutor-11] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
50:01 INFO [taskExecutor-11] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
50:01 INFO [taskExecutor-11] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=122.3, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=69.32, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.38, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.57, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=85.67, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=96.238, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=99.367, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=123.23, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=73.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=122.38, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=71.99, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=false, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23050005, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=09.03.13-17.13.06, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 16:51:25, TimeStamp=1522947085329, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=4010, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2999.300000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2499.900000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=999.100000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=302], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1999.200000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=4136, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
50:01 INFO [taskExecutor-11] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
50:01 INFO [taskExecutor-11] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
50:01 INFO [taskExecutor-11] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
50:01 INFO [taskExecutor-11] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
50:01 INFO [taskExecutor-11] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
50:01 INFO [taskExecutor-11] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
50:01 INFO [taskExecutor-11] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
50:01 INFO [taskExecutor-11] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
50:01 INFO [taskExecutor-11] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
50:01 INFO [taskExecutor-11] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
50:02 INFO [taskExecutor-11] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005533)
50:02 INFO [taskExecutor-11] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
50:02 INFO [taskExecutor-11] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009472, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 16:51:25, TimeStamp=1522947085329, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
50:02 INFO [taskExecutor-11] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
50:02 INFO [taskExecutor-11] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
50:02 INFO [taskExecutor-11] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
50:02 INFO [taskExecutor-11] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
50:02 INFO [taskExecutor-11] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
50:02 INFO [taskExecutor-11] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005533
03:49 INFO [taskExecutor-12] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
03:49 INFO [taskExecutor-12] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 618305
03:49 INFO [taskExecutor-12] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
03:50 INFO [taskExecutor-12] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
03:50 INFO [taskExecutor-12] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
03:50 INFO [taskExecutor-12] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
03:50 INFO [taskExecutor-12] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
03:50 INFO [taskExecutor-12] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8100, deviceId=21166, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 10:03:50, TimeStamp=1522922630120, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
03:50 INFO [taskExecutor-12] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
03:50 INFO [taskExecutor-12] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2018-04-05T15:28:23.390661
03:50 INFO [taskExecutor-12] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
03:50 INFO [taskExecutor-12] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
03:50 INFO [taskExecutor-12] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
03:50 INFO [taskExecutor-12] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-05-10-02-06_A_12_24050026_100.tar.gz.enc)
03:50 INFO [taskExecutor-12] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
03:50 INFO [taskExecutor-12] [RegionValidator.isValidRegion()] - Start to validate Region
03:50 INFO [taskExecutor-12] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
03:50 INFO [taskExecutor-12] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
03:50 INFO [taskExecutor-12] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
03:50 INFO [taskExecutor-12] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-43, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-42, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=17977, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=121.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=75.67, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=78.98, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=98.279, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=99.999, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=91.23, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=90.06, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=122.3, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=false, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 15:28:23, TimeStamp=1522942103390, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=-45833, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2996, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1273, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=73, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1038, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=23, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=998.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=424.4, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=24.4, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=346.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=7.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-2.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1500.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=301], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=302], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=5000.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=6000.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=653, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=500, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=-45713, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
03:50 INFO [taskExecutor-12] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
03:51 INFO [taskExecutor-12] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
03:51 INFO [taskExecutor-12] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
03:51 INFO [taskExecutor-12] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
03:51 INFO [taskExecutor-12] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
03:51 INFO [taskExecutor-12] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
03:51 INFO [taskExecutor-12] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
03:51 INFO [taskExecutor-12] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
03:51 INFO [taskExecutor-12] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
03:51 INFO [taskExecutor-12] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
03:57 INFO [taskExecutor-12] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005534)
03:57 INFO [taskExecutor-12] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
03:58 INFO [taskExecutor-12] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009473, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 15:28:23, TimeStamp=1522942103390, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
03:58 INFO [taskExecutor-12] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
03:58 INFO [taskExecutor-12] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
03:58 INFO [taskExecutor-12] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
03:58 INFO [taskExecutor-12] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
03:58 INFO [taskExecutor-12] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
03:58 INFO [taskExecutor-12] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005534
05:19 INFO [taskExecutor-12] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
05:19 INFO [taskExecutor-12] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 143093
05:19 INFO [taskExecutor-12] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
05:19 INFO [taskExecutor-12] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
05:19 INFO [taskExecutor-12] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
05:19 INFO [taskExecutor-12] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
05:19 INFO [taskExecutor-12] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
05:19 INFO [taskExecutor-12] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8100, deviceId=20998, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 10:05:19, TimeStamp=1522922719618, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
05:19 INFO [taskExecutor-12] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
05:19 INFO [taskExecutor-12] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2018-04-05T16:51:25.329587
05:19 INFO [taskExecutor-12] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
05:19 INFO [taskExecutor-12] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
05:19 INFO [taskExecutor-12] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
05:20 INFO [taskExecutor-12] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-05-10-04-26_A_12_24050029_100.tar.gz.enc)
05:20 INFO [taskExecutor-12] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
05:20 INFO [taskExecutor-12] [RegionValidator.isValidRegion()] - Start to validate Region
05:20 INFO [taskExecutor-12] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
05:20 INFO [taskExecutor-12] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
05:20 INFO [taskExecutor-12] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
05:20 INFO [taskExecutor-12] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=123, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=120.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=75.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=76.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=98.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=99.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=91, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=90.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=122.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=false, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23050005, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=09.03.13-17.13.06, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 16:51:25, TimeStamp=1522947085329, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=60, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=123.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=123.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1999.300000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=301], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1999.900000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=999.100000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=301], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=302], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=4999.200000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=302], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=186, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
05:20 INFO [taskExecutor-12] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
05:20 INFO [taskExecutor-12] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
05:20 INFO [taskExecutor-12] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
05:20 INFO [taskExecutor-12] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
05:20 INFO [taskExecutor-12] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
05:20 INFO [taskExecutor-12] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
05:20 INFO [taskExecutor-12] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
05:20 INFO [taskExecutor-12] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
05:20 INFO [taskExecutor-12] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
05:20 INFO [taskExecutor-12] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
05:21 INFO [taskExecutor-12] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005535)
05:21 INFO [taskExecutor-12] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
05:21 INFO [taskExecutor-12] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009474, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 16:51:25, TimeStamp=1522947085329, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
05:21 INFO [taskExecutor-12] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
05:21 INFO [taskExecutor-12] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
05:21 INFO [taskExecutor-12] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
05:21 INFO [taskExecutor-12] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
05:21 INFO [taskExecutor-12] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
05:21 INFO [taskExecutor-12] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005535
07:15 INFO [taskExecutor-12] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
07:15 INFO [taskExecutor-12] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 138111
07:16 INFO [taskExecutor-12] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
07:16 INFO [taskExecutor-12] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
07:16 INFO [taskExecutor-12] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
07:16 INFO [taskExecutor-12] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
07:16 INFO [taskExecutor-12] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
07:16 INFO [taskExecutor-12] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8100, deviceId=20998, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 10:07:16, TimeStamp=1522922836369, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
07:16 INFO [taskExecutor-12] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
07:16 INFO [taskExecutor-12] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2018-04-05T16:51:25.329587
07:16 INFO [taskExecutor-12] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
07:16 INFO [taskExecutor-12] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
07:16 INFO [taskExecutor-12] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
07:16 INFO [taskExecutor-12] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-05-10-06-17_A_12_24050020_100.tar.gz.enc)
07:16 INFO [taskExecutor-12] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
07:16 INFO [taskExecutor-12] [RegionValidator.isValidRegion()] - Start to validate Region
07:16 INFO [taskExecutor-12] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
07:16 INFO [taskExecutor-12] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
07:16 INFO [taskExecutor-12] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
07:16 INFO [taskExecutor-12] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=90, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=false, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23050005, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=09.03.13-17.13.06, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 16:51:25, TimeStamp=1522947085329, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=385, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2999.300000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2499.900000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=999.100000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=302], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1999.200000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=511, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
07:16 INFO [taskExecutor-12] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
07:16 INFO [taskExecutor-12] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
07:16 INFO [taskExecutor-12] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
07:16 INFO [taskExecutor-12] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
07:16 INFO [taskExecutor-12] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
07:16 INFO [taskExecutor-12] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
07:16 INFO [taskExecutor-12] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
07:16 INFO [taskExecutor-12] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
07:16 INFO [taskExecutor-12] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
07:16 INFO [taskExecutor-12] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
07:17 INFO [taskExecutor-12] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005536)
07:17 INFO [taskExecutor-12] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
07:17 INFO [taskExecutor-12] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009475, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 16:51:25, TimeStamp=1522947085329, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
07:17 INFO [taskExecutor-12] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
07:17 INFO [taskExecutor-12] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
07:17 INFO [taskExecutor-12] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
07:17 INFO [taskExecutor-12] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
07:17 INFO [taskExecutor-12] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
07:17 INFO [taskExecutor-12] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005536
32:08 INFO [taskExecutor-17] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
32:08 INFO [taskExecutor-17] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 611248
32:08 INFO [taskExecutor-17] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
32:08 INFO [taskExecutor-17] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
32:08 INFO [taskExecutor-17] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
32:08 INFO [taskExecutor-17] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
32:08 INFO [taskExecutor-17] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
32:08 INFO [taskExecutor-17] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8076, deviceId=21166, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 05:32:08, TimeStamp=1522924328254, ClinicTimeZone=Central Standard Time, ClinicTimeZone OffSet=-5], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
32:08 INFO [taskExecutor-17] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
32:08 INFO [taskExecutor-17] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2014-12-01T15:28:23.390661
32:08 INFO [taskExecutor-17] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
32:08 INFO [taskExecutor-17] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
32:09 INFO [taskExecutor-17] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
32:09 INFO [taskExecutor-17] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-05-10-30-58_A_12_24050025_100.tar.gz.enc)
32:09 INFO [taskExecutor-17] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
32:09 INFO [taskExecutor-17] [RegionValidator.isValidRegion()] - Start to validate Region
32:09 INFO [taskExecutor-17] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
32:09 INFO [taskExecutor-17] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
32:09 INFO [taskExecutor-17] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
32:09 INFO [taskExecutor-17] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-43, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-42, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=17977, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-01 15:28:23, TimeStamp=1417469303390, ClinicTimeZone=Central Standard Time, ClinicTimeZone OffSet=-6], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=-45833, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2996, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1273, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=73, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2990, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=23, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=998.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=424.4, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=24.4, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=996.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=7.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-2.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2999.300000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2499.900000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=999.100000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=302], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1999.200000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=653, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=500, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=-45713, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
32:09 INFO [taskExecutor-17] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
32:09 INFO [taskExecutor-17] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
32:09 INFO [taskExecutor-17] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
32:09 INFO [taskExecutor-17] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
32:09 INFO [taskExecutor-17] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
32:09 INFO [taskExecutor-17] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
32:09 INFO [taskExecutor-17] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
32:09 INFO [taskExecutor-17] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
32:09 INFO [taskExecutor-17] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
32:09 INFO [taskExecutor-17] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
32:15 INFO [taskExecutor-17] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005537)
32:15 INFO [taskExecutor-17] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
32:16 INFO [taskExecutor-17] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009476, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-01 15:28:23, TimeStamp=1417469303390, ClinicTimeZone=Central Standard Time, ClinicTimeZone OffSet=-6], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
32:16 INFO [taskExecutor-17] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
32:16 INFO [taskExecutor-17] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
32:16 INFO [taskExecutor-17] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
32:16 INFO [taskExecutor-17] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
32:16 INFO [taskExecutor-17] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
32:16 INFO [taskExecutor-17] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005537
39:09 INFO [taskExecutor-17] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
39:09 INFO [taskExecutor-17] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 611248
39:09 INFO [taskExecutor-17] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
39:09 INFO [taskExecutor-17] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
39:09 INFO [taskExecutor-17] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
39:09 INFO [taskExecutor-17] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
39:09 INFO [taskExecutor-17] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
39:09 INFO [taskExecutor-17] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8076, deviceId=21166, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 05:39:09, TimeStamp=1522924749644, ClinicTimeZone=Central Standard Time, ClinicTimeZone OffSet=-5], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
39:09 INFO [taskExecutor-17] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
39:09 INFO [taskExecutor-17] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2014-12-01T15:28:23.390661
39:09 INFO [taskExecutor-17] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
39:09 INFO [taskExecutor-17] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
39:10 INFO [taskExecutor-17] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
39:10 INFO [taskExecutor-17] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-05-10-30-58_A_12_24050025_100.tar.gz.enc)
39:10 INFO [taskExecutor-17] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment existed in NH, the flow will stop!)
39:10 INFO [taskExecutor-17] [AmiaStopService.stopFlow()] - Flow stop, the treatment to process is duplicate or invalid
39:38 INFO [taskExecutor-17] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
39:38 INFO [taskExecutor-17] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 611248
39:38 INFO [taskExecutor-17] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
39:38 INFO [taskExecutor-17] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
39:38 INFO [taskExecutor-17] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
39:38 INFO [taskExecutor-17] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
39:38 INFO [taskExecutor-17] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
39:38 INFO [taskExecutor-17] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8076, deviceId=21166, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 05:39:38, TimeStamp=1522924778613, ClinicTimeZone=Central Standard Time, ClinicTimeZone OffSet=-5], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
39:38 INFO [taskExecutor-17] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
39:38 INFO [taskExecutor-17] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2014-12-01T15:28:23.390661
39:38 INFO [taskExecutor-17] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
39:38 INFO [taskExecutor-17] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
39:39 INFO [taskExecutor-17] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
39:39 INFO [taskExecutor-17] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-05-10-30-58_A_12_24050025_100.tar.gz.enc)
39:39 INFO [taskExecutor-17] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment existed in NH, the flow will stop!)
39:39 INFO [taskExecutor-17] [AmiaStopService.stopFlow()] - Flow stop, the treatment to process is duplicate or invalid
52:19 INFO [taskExecutor-16] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
52:19 INFO [taskExecutor-16] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 611248
52:19 INFO [taskExecutor-16] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
52:19 INFO [taskExecutor-16] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
52:19 INFO [taskExecutor-16] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
52:19 INFO [taskExecutor-16] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
52:19 INFO [taskExecutor-16] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
52:19 INFO [taskExecutor-16] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8076, deviceId=21166, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 05:52:19, TimeStamp=1522925539898, ClinicTimeZone=Central Standard Time, ClinicTimeZone OffSet=-5], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
52:19 INFO [taskExecutor-16] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
52:19 INFO [taskExecutor-16] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2014-12-01T15:28:23.390661
52:19 INFO [taskExecutor-16] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
52:19 INFO [taskExecutor-16] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
52:20 INFO [taskExecutor-16] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
52:20 INFO [taskExecutor-16] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-05-10-30-58_A_12_24050025_100.tar.gz.enc)
52:20 INFO [taskExecutor-16] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment existed in NH, the flow will stop!)
52:20 INFO [taskExecutor-16] [AmiaStopService.stopFlow()] - Flow stop, the treatment to process is duplicate or invalid
06:17 INFO [taskExecutor-3] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
06:17 INFO [taskExecutor-3] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 611248
06:17 INFO [taskExecutor-3] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
06:17 INFO [taskExecutor-3] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
06:17 INFO [taskExecutor-3] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
06:17 INFO [taskExecutor-3] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
06:17 INFO [taskExecutor-3] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
06:17 INFO [taskExecutor-3] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8076, deviceId=21166, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 06:06:17, TimeStamp=1522926377623, ClinicTimeZone=Central Standard Time, ClinicTimeZone OffSet=-5], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
06:17 INFO [taskExecutor-3] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
06:17 INFO [taskExecutor-3] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2014-12-01T15:28:23.390661
06:17 INFO [taskExecutor-3] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
06:17 INFO [taskExecutor-3] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
06:18 INFO [taskExecutor-3] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
06:18 INFO [taskExecutor-3] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-05-10-30-58_A_12_24050025_100.tar.gz.enc)
06:18 INFO [taskExecutor-3] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
06:18 INFO [taskExecutor-3] [RegionValidator.isValidRegion()] - Start to validate Region
06:18 INFO [taskExecutor-3] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
06:18 INFO [taskExecutor-3] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
06:18 INFO [taskExecutor-3] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
06:18 INFO [taskExecutor-3] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-43, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-42, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=17977, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-01 15:28:23, TimeStamp=1417469303390, ClinicTimeZone=Central Standard Time, ClinicTimeZone OffSet=-6], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=-45833, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2996, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1273, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=73, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2990, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=23, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=998.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=424.4, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=24.4, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=996.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=7.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-2.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2999.300000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2499.900000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=999.100000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=302], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1999.200000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=653, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=500, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=-45713, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
06:18 INFO [taskExecutor-3] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
06:18 INFO [taskExecutor-3] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
06:18 INFO [taskExecutor-3] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
06:18 INFO [taskExecutor-3] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
06:18 INFO [taskExecutor-3] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
06:18 INFO [taskExecutor-3] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
06:18 INFO [taskExecutor-3] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
06:18 INFO [taskExecutor-3] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
06:18 INFO [taskExecutor-3] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
06:18 INFO [taskExecutor-3] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
06:24 INFO [taskExecutor-3] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005538)
06:24 INFO [taskExecutor-3] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
06:25 INFO [taskExecutor-3] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009477, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-01 15:28:23, TimeStamp=1417469303390, ClinicTimeZone=Central Standard Time, ClinicTimeZone OffSet=-6], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
06:25 INFO [taskExecutor-3] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
06:25 INFO [taskExecutor-3] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
06:25 INFO [taskExecutor-3] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
06:25 INFO [taskExecutor-3] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
06:25 INFO [taskExecutor-3] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
06:25 INFO [taskExecutor-3] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005538
10:31 INFO [taskExecutor-3] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
10:31 INFO [taskExecutor-3] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 611248
10:31 INFO [taskExecutor-3] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
10:31 INFO [taskExecutor-3] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
10:31 INFO [taskExecutor-3] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
10:31 INFO [taskExecutor-3] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
10:31 INFO [taskExecutor-3] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
10:31 INFO [taskExecutor-3] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8076, deviceId=21166, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 06:10:31, TimeStamp=1522926631609, ClinicTimeZone=Central Standard Time, ClinicTimeZone OffSet=-5], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
10:31 INFO [taskExecutor-3] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
10:31 INFO [taskExecutor-3] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2014-12-01T15:28:23.390661
10:31 INFO [taskExecutor-3] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
10:31 INFO [taskExecutor-3] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
10:32 INFO [taskExecutor-3] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
10:32 INFO [taskExecutor-3] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-05-10-30-58_A_12_24050025_100.tar.gz.enc)
10:32 INFO [taskExecutor-3] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
10:32 INFO [taskExecutor-3] [RegionValidator.isValidRegion()] - Start to validate Region
10:32 INFO [taskExecutor-3] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
10:32 INFO [taskExecutor-3] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
10:32 INFO [taskExecutor-3] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
10:32 INFO [taskExecutor-3] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-43, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-42, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=17977, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-01 15:28:23, TimeStamp=1417469303390, ClinicTimeZone=Central Standard Time, ClinicTimeZone OffSet=-6], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=-45833, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2996, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1273, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=73, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2990, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=23, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=998.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=424.4, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=24.4, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=996.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=7.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-2.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2999.300000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2499.900000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=999.100000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=302], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1999.200000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=653, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=500, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=-45713, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
10:32 INFO [taskExecutor-3] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
10:32 INFO [taskExecutor-3] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
10:32 INFO [taskExecutor-3] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
10:32 INFO [taskExecutor-3] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
10:32 INFO [taskExecutor-3] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
10:32 INFO [taskExecutor-3] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
10:32 INFO [taskExecutor-3] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
10:32 INFO [taskExecutor-3] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
10:32 INFO [taskExecutor-3] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
10:32 INFO [taskExecutor-3] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
10:39 INFO [taskExecutor-3] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005539)
10:39 INFO [taskExecutor-3] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
10:39 INFO [taskExecutor-3] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009478, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-01 15:28:23, TimeStamp=1417469303390, ClinicTimeZone=Central Standard Time, ClinicTimeZone OffSet=-6], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
10:39 INFO [taskExecutor-3] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
10:39 INFO [taskExecutor-3] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
10:39 INFO [taskExecutor-3] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
10:39 INFO [taskExecutor-3] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
10:39 INFO [taskExecutor-3] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
10:39 INFO [taskExecutor-3] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005539
31:41 INFO [taskExecutor-18] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
31:41 INFO [taskExecutor-18] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 611248
31:41 INFO [taskExecutor-18] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
31:41 INFO [taskExecutor-18] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
31:41 INFO [taskExecutor-18] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
31:41 INFO [taskExecutor-18] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
31:41 INFO [taskExecutor-18] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
31:41 INFO [taskExecutor-18] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8075, deviceId=21166, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 12:31:41, TimeStamp=1522931501617, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
31:41 INFO [taskExecutor-18] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
31:41 INFO [taskExecutor-18] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2014-12-01T15:28:23.390661
31:41 INFO [taskExecutor-18] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
31:41 INFO [taskExecutor-18] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
31:42 INFO [taskExecutor-18] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
31:42 INFO [taskExecutor-18] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-05-12-23-43_A_12_24050026_100.tar.gz.enc)
31:42 INFO [taskExecutor-18] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
31:42 INFO [taskExecutor-18] [RegionValidator.isValidRegion()] - Start to validate Region
31:42 INFO [taskExecutor-18] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
31:42 INFO [taskExecutor-18] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
31:42 INFO [taskExecutor-18] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
31:42 INFO [taskExecutor-18] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-43, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-42, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=17977, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-01 15:28:23, TimeStamp=1417447703390, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=-45833, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2996, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1273, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=73, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2990, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=23, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=998.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=424.4, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=24.4, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=996.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=7.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-2.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2999.300000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2499.900000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=999.100000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=302], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1999.200000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=653, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=500, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=-45713, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
31:42 INFO [taskExecutor-18] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
31:42 INFO [taskExecutor-18] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
31:42 INFO [taskExecutor-18] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
31:42 INFO [taskExecutor-18] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
31:42 INFO [taskExecutor-18] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
31:42 INFO [taskExecutor-18] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
31:42 INFO [taskExecutor-18] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
31:42 INFO [taskExecutor-18] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
31:42 INFO [taskExecutor-18] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
31:42 INFO [taskExecutor-18] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
31:48 INFO [taskExecutor-18] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005540)
31:48 INFO [taskExecutor-18] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
31:49 INFO [taskExecutor-18] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009479, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-01 15:28:23, TimeStamp=1417447703390, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
31:49 INFO [taskExecutor-18] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
31:49 INFO [taskExecutor-18] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
31:49 INFO [taskExecutor-18] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
31:49 INFO [taskExecutor-18] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
31:49 INFO [taskExecutor-18] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
31:49 INFO [taskExecutor-18] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005540
41:42 INFO [taskExecutor-1] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
41:42 INFO [taskExecutor-1] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 611248
41:43 INFO [taskExecutor-1] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
41:43 INFO [taskExecutor-1] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
41:43 INFO [taskExecutor-1] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
41:43 INFO [taskExecutor-1] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
41:43 INFO [taskExecutor-1] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
41:43 INFO [taskExecutor-1] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8076, deviceId=21166, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 07:41:43, TimeStamp=1522932103156, ClinicTimeZone=Central Standard Time, ClinicTimeZone OffSet=-5], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
41:43 INFO [taskExecutor-1] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
41:43 INFO [taskExecutor-1] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2014-12-01T15:28:23.390661
41:43 INFO [taskExecutor-1] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
41:43 INFO [taskExecutor-1] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
41:43 INFO [taskExecutor-1] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
41:43 INFO [taskExecutor-1] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-05-12-23-43_A_12_24050029_100.tar.gz.enc)
41:43 INFO [taskExecutor-1] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
41:43 INFO [taskExecutor-1] [RegionValidator.isValidRegion()] - Start to validate Region
41:43 INFO [taskExecutor-1] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
41:43 INFO [taskExecutor-1] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
41:43 INFO [taskExecutor-1] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
41:43 INFO [taskExecutor-1] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-43, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-42, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=17977, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-01 15:28:23, TimeStamp=1417469303390, ClinicTimeZone=Central Standard Time, ClinicTimeZone OffSet=-6], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=-45833, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2996, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1273, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=73, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2990, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=23, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=998.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=424.4, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=24.4, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=996.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=7.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-2.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2999.300000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2499.900000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=999.100000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=302], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1999.200000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=653, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=500, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=-45713, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
41:43 INFO [taskExecutor-1] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
41:43 INFO [taskExecutor-1] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
41:43 INFO [taskExecutor-1] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
41:43 INFO [taskExecutor-1] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
41:43 INFO [taskExecutor-1] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
41:43 INFO [taskExecutor-1] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
41:43 INFO [taskExecutor-1] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
41:43 INFO [taskExecutor-1] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
41:43 INFO [taskExecutor-1] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
41:44 INFO [taskExecutor-1] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
41:50 INFO [taskExecutor-1] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005541)
41:50 INFO [taskExecutor-1] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
41:50 INFO [taskExecutor-1] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009480, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-01 15:28:23, TimeStamp=1417469303390, ClinicTimeZone=Central Standard Time, ClinicTimeZone OffSet=-6], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
41:50 INFO [taskExecutor-1] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
41:50 INFO [taskExecutor-1] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
41:50 INFO [taskExecutor-1] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
41:50 INFO [taskExecutor-1] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
41:50 INFO [taskExecutor-1] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
41:50 INFO [taskExecutor-1] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005541
48:43 INFO [taskExecutor-15] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
48:43 INFO [taskExecutor-15] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 611248
48:43 INFO [taskExecutor-15] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
48:43 INFO [taskExecutor-15] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
48:43 INFO [taskExecutor-15] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
48:43 INFO [taskExecutor-15] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
48:43 INFO [taskExecutor-15] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
48:43 INFO [taskExecutor-15] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8076, deviceId=21166, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 07:48:43, TimeStamp=1522932523252, ClinicTimeZone=Central Standard Time, ClinicTimeZone OffSet=-5], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
48:43 INFO [taskExecutor-15] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
48:43 INFO [taskExecutor-15] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2014-12-01T15:28:23.390661
48:43 INFO [taskExecutor-15] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
48:43 INFO [taskExecutor-15] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
48:43 INFO [taskExecutor-15] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
48:43 INFO [taskExecutor-15] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-05-12-23-43_A_12_24050020_100.tar.gz.enc)
48:43 INFO [taskExecutor-15] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
48:43 INFO [taskExecutor-15] [RegionValidator.isValidRegion()] - Start to validate Region
48:43 INFO [taskExecutor-15] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
48:43 INFO [taskExecutor-15] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
48:43 INFO [taskExecutor-15] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
48:43 INFO [taskExecutor-15] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-43, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-42, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=17977, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-01 15:28:23, TimeStamp=1417469303390, ClinicTimeZone=Central Standard Time, ClinicTimeZone OffSet=-6], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=-45833, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2996, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1273, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=73, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2990, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=23, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=998.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=424.4, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=24.4, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=996.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=7.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-2.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2999.300000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2499.900000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=999.100000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=302], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1999.200000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=653, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=500, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=-45713, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
48:43 INFO [taskExecutor-15] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
48:44 INFO [taskExecutor-15] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
48:44 INFO [taskExecutor-15] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
48:44 INFO [taskExecutor-15] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
48:44 INFO [taskExecutor-15] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
48:44 INFO [taskExecutor-15] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
48:44 INFO [taskExecutor-15] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
48:44 INFO [taskExecutor-15] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
48:44 INFO [taskExecutor-15] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
48:44 INFO [taskExecutor-15] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
48:50 INFO [taskExecutor-15] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005542)
48:50 INFO [taskExecutor-15] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
48:50 INFO [taskExecutor-15] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009481, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-01 15:28:23, TimeStamp=1417469303390, ClinicTimeZone=Central Standard Time, ClinicTimeZone OffSet=-6], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
48:50 INFO [taskExecutor-15] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
48:50 INFO [taskExecutor-15] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
48:50 INFO [taskExecutor-15] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
48:50 INFO [taskExecutor-15] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
48:50 INFO [taskExecutor-15] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
48:50 INFO [taskExecutor-15] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005542
53:13 INFO [taskExecutor-15] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
53:13 INFO [taskExecutor-15] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 611248
53:13 INFO [taskExecutor-15] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
53:13 INFO [taskExecutor-15] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
53:13 INFO [taskExecutor-15] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
53:13 INFO [taskExecutor-15] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
53:13 INFO [taskExecutor-15] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
53:13 INFO [taskExecutor-15] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8076, deviceId=21166, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-05 07:53:13, TimeStamp=1522932793788, ClinicTimeZone=Central Standard Time, ClinicTimeZone OffSet=-5], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
53:13 INFO [taskExecutor-15] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
53:13 INFO [taskExecutor-15] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2014-12-01T15:28:23.390661
53:13 INFO [taskExecutor-15] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
53:13 INFO [taskExecutor-15] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
53:14 INFO [taskExecutor-15] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
53:14 INFO [taskExecutor-15] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-05-12-23-43_A_12_24050040_100.tar.gz.enc)
53:14 INFO [taskExecutor-15] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
53:14 INFO [taskExecutor-15] [RegionValidator.isValidRegion()] - Start to validate Region
53:14 INFO [taskExecutor-15] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
53:14 INFO [taskExecutor-15] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
53:14 INFO [taskExecutor-15] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
53:14 INFO [taskExecutor-15] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-43, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-42, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=17977, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-01 15:28:23, TimeStamp=1417469303390, ClinicTimeZone=Central Standard Time, ClinicTimeZone OffSet=-6], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=-45833, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2996, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1273, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=73, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2990, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=23, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=998.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=424.4, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=24.4, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=996.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=7.7, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=-2.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2999.300000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2499.900000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=999.100000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=302], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1999.200000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=653, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=500, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=-45713, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
53:14 INFO [taskExecutor-15] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
53:14 INFO [taskExecutor-15] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
53:14 INFO [taskExecutor-15] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
53:14 INFO [taskExecutor-15] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
53:14 INFO [taskExecutor-15] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
53:14 INFO [taskExecutor-15] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 1, 0, 0.
53:14 INFO [taskExecutor-15] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
53:14 INFO [taskExecutor-15] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
53:14 INFO [taskExecutor-15] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
53:14 INFO [taskExecutor-15] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
53:20 INFO [taskExecutor-15] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005543)
53:20 INFO [taskExecutor-15] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
53:21 INFO [taskExecutor-15] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009482, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-01 15:28:23, TimeStamp=1417469303390, ClinicTimeZone=Central Standard Time, ClinicTimeZone OffSet=-6], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
53:21 INFO [taskExecutor-15] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
53:21 INFO [taskExecutor-15] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 1 - 0 - 0.
53:21 INFO [taskExecutor-15] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 1, 0, 0.
53:21 INFO [taskExecutor-15] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
53:21 INFO [taskExecutor-15] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
53:21 INFO [taskExecutor-15] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005543
24:11 INFO [taskExecutor-15] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
24:11 INFO [taskExecutor-15] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 136494
24:11 INFO [taskExecutor-15] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
24:16 INFO [taskExecutor-15] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
24:16 INFO [taskExecutor-15] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
24:16 INFO [taskExecutor-15] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
24:16 INFO [taskExecutor-15] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
24:16 INFO [taskExecutor-15] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8151, deviceId=20998, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-06 06:24:16, TimeStamp=1522995856345, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
24:16 INFO [taskExecutor-15] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
24:16 INFO [taskExecutor-15] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2015-08-31T09:00:00.000000
24:16 INFO [taskExecutor-15] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
24:16 INFO [taskExecutor-15] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
24:16 INFO [taskExecutor-15] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
24:16 INFO [taskExecutor-15] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-06-06-20-42_A_12_25090061_100.tar.gz.enc)
24:16 INFO [taskExecutor-15] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
24:16 INFO [taskExecutor-15] [RegionValidator.isValidRegion()] - Start to validate Region
24:16 INFO [taskExecutor-15] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
24:16 INFO [taskExecutor-15] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
24:16 INFO [taskExecutor-15] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
24:16 INFO [taskExecutor-15] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=90, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=120.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=75.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=76.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=98.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=99.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=false, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23050005, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=09.03.13-17.13.06, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=DrainBag, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2015-08-31 09:00:00, TimeStamp=1441011600000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose Tidal, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=4481, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2999.300000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2499.900000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=999.100000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=302], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1999.200000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=120, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=4607, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
24:16 INFO [taskExecutor-15] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
24:16 INFO [taskExecutor-15] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
24:16 INFO [taskExecutor-15] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
24:16 INFO [taskExecutor-15] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
24:16 INFO [taskExecutor-15] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 2 - 0 - 0.
24:16 INFO [taskExecutor-15] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 2, 0, 0.
24:16 INFO [taskExecutor-15] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
24:16 INFO [taskExecutor-15] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
24:16 INFO [taskExecutor-15] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
24:16 INFO [taskExecutor-15] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
24:18 INFO [taskExecutor-15] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005544)
24:18 INFO [taskExecutor-15] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
24:18 INFO [taskExecutor-15] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009483, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2015-08-31 09:00:00, TimeStamp=1441011600000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
24:18 INFO [taskExecutor-15] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
24:18 INFO [taskExecutor-15] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 2 - 0 - 0.
24:18 INFO [taskExecutor-15] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 2, 0, 0.
24:18 INFO [taskExecutor-15] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
24:18 INFO [taskExecutor-15] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
24:18 INFO [taskExecutor-15] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005544
13:20 INFO [taskExecutor-1] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
13:20 INFO [taskExecutor-1] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 16663
13:20 INFO [taskExecutor-1] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
13:20 INFO [taskExecutor-1] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
13:20 INFO [taskExecutor-1] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
13:20 INFO [taskExecutor-1] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
13:20 INFO [taskExecutor-1] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
13:20 INFO [taskExecutor-1] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8151, deviceId=23010034, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-06 07:13:20, TimeStamp=1522998800443, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
13:20 INFO [taskExecutor-1] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
13:20 INFO [taskExecutor-1] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2014-12-24T00:00:00.000
13:20 INFO [taskExecutor-1] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
13:20 INFO [taskExecutor-1] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
13:20 INFO [taskExecutor-1] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
13:20 INFO [taskExecutor-1] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-06-07-12-05_A_12_25090062_100.tar.gz.enc)
13:20 INFO [taskExecutor-1] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
13:20 INFO [taskExecutor-1] [RegionValidator.isValidRegion()] - Start to validate Region
13:20 INFO [taskExecutor-1] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
13:20 INFO [taskExecutor-1] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
13:20 INFO [taskExecutor-1] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
13:20 INFO [taskExecutor-1] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=17977, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=17977, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PulsePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=WeightPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=130.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TemperaturePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=200.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=0.7.9-1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-24 00:00:00, TimeStamp=1419379200000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose Tidal, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=3600, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1200, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1200.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=7200, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
13:20 INFO [taskExecutor-1] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
13:20 INFO [taskExecutor-1] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
13:20 INFO [taskExecutor-1] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
13:20 INFO [taskExecutor-1] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
13:20 INFO [taskExecutor-1] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 2 - 0 - 0.
13:20 INFO [taskExecutor-1] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 2, 0, 0.
13:20 INFO [taskExecutor-1] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
13:20 INFO [taskExecutor-1] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
13:20 INFO [taskExecutor-1] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
13:20 INFO [taskExecutor-1] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
13:21 INFO [taskExecutor-1] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005545)
13:21 INFO [taskExecutor-1] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
13:21 INFO [taskExecutor-1] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009484, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2014-12-24 00:00:00, TimeStamp=1419379200000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
13:21 INFO [taskExecutor-1] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
13:21 INFO [taskExecutor-1] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 2 - 0 - 0.
13:21 INFO [taskExecutor-1] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 2, 0, 0.
13:21 INFO [taskExecutor-1] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
13:21 INFO [taskExecutor-1] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
13:21 INFO [taskExecutor-1] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005545
26:26 INFO [taskExecutor-7] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
26:26 INFO [taskExecutor-7] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 134136
26:26 INFO [taskExecutor-7] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
26:26 INFO [taskExecutor-7] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
26:26 INFO [taskExecutor-7] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
26:26 INFO [taskExecutor-7] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
26:26 INFO [taskExecutor-7] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
26:26 INFO [taskExecutor-7] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8151, deviceId=20998, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-06 07:26:26, TimeStamp=1522999586891, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
26:26 INFO [taskExecutor-7] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
26:26 INFO [taskExecutor-7] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2015-08-30T09:00:00.000000
26:26 INFO [taskExecutor-7] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
26:26 INFO [taskExecutor-7] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
26:27 INFO [taskExecutor-7] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
26:27 INFO [taskExecutor-7] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-06-07-25-04_A_12_25090062_100.tar.gz.enc)
26:27 INFO [taskExecutor-7] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
26:27 INFO [taskExecutor-7] [RegionValidator.isValidRegion()] - Start to validate Region
26:27 INFO [taskExecutor-7] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
26:27 INFO [taskExecutor-7] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
26:27 INFO [taskExecutor-7] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
26:27 INFO [taskExecutor-7] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=90, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=false, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23050005, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=09.03.13-17.13.06, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=OpenDrain, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2015-08-30 09:00:00, TimeStamp=1440925200000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose Tidal, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=4481, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2999.300000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2499.900000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=999.100000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=302], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1999.200000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=120, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=4607, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
26:27 INFO [taskExecutor-7] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
26:27 INFO [taskExecutor-7] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
26:27 INFO [taskExecutor-7] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
26:27 INFO [taskExecutor-7] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
26:27 INFO [taskExecutor-7] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 2 - 0 - 0.
26:27 INFO [taskExecutor-7] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 2, 0, 0.
26:27 INFO [taskExecutor-7] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
26:27 INFO [taskExecutor-7] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
26:27 INFO [taskExecutor-7] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
26:27 INFO [taskExecutor-7] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
26:28 INFO [taskExecutor-7] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005546)
26:28 INFO [taskExecutor-7] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
26:28 INFO [taskExecutor-7] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009485, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2015-08-30 09:00:00, TimeStamp=1440925200000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
26:28 INFO [taskExecutor-7] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
26:28 INFO [taskExecutor-7] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 2 - 0 - 0.
26:28 INFO [taskExecutor-7] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 2, 0, 0.
26:28 INFO [taskExecutor-7] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
26:28 INFO [taskExecutor-7] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
26:28 INFO [taskExecutor-7] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005546
42:06 INFO [taskExecutor-9] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
42:06 INFO [taskExecutor-9] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 143042
42:06 INFO [taskExecutor-9] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
42:06 INFO [taskExecutor-9] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
42:06 INFO [taskExecutor-9] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
42:06 INFO [taskExecutor-9] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
42:06 INFO [taskExecutor-9] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
42:06 INFO [taskExecutor-9] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8151, deviceId=20998, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-06 07:42:06, TimeStamp=1523000526875, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
42:06 INFO [taskExecutor-9] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
42:06 INFO [taskExecutor-9] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2015-08-29T16:51:25.329587
42:06 INFO [taskExecutor-9] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
42:06 INFO [taskExecutor-9] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
42:07 INFO [taskExecutor-9] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
42:07 INFO [taskExecutor-9] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-06-07-40-52_A_12_25090063_100.tar.gz.enc)
42:07 INFO [taskExecutor-9] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
42:07 INFO [taskExecutor-9] [RegionValidator.isValidRegion()] - Start to validate Region
42:07 INFO [taskExecutor-9] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
42:07 INFO [taskExecutor-9] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
42:07 INFO [taskExecutor-9] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
42:07 INFO [taskExecutor-9] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=90, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=60.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodGlucosePost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=91, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPre, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=90.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureSystolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=122.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=BloodPressureDiastolicPost, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=70.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=false, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23050005, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=09.03.13-17.13.06, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2015-08-29 16:51:25, TimeStamp=1440867085329, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Hi-Dose APD, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=6233, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=298.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=131.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=300.6, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.2, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3.1, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2999.300000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=2499.900000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=400], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=999.100000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0.000000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=302], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1999.200000, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=6359, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
42:07 INFO [taskExecutor-9] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
42:07 INFO [taskExecutor-9] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
42:07 INFO [taskExecutor-9] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
42:07 INFO [taskExecutor-9] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
42:07 INFO [taskExecutor-9] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 2 - 0 - 0.
42:07 INFO [taskExecutor-9] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 2, 0, 0.
42:07 INFO [taskExecutor-9] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
42:07 INFO [taskExecutor-9] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
42:07 INFO [taskExecutor-9] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
42:07 INFO [taskExecutor-9] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
42:08 INFO [taskExecutor-9] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005547)
42:08 INFO [taskExecutor-9] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
42:08 INFO [taskExecutor-9] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009486, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2015-08-29 16:51:25, TimeStamp=1440867085329, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
42:08 INFO [taskExecutor-9] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
42:08 INFO [taskExecutor-9] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 2 - 0 - 0.
42:08 INFO [taskExecutor-9] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 2, 0, 0.
42:08 INFO [taskExecutor-9] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
42:08 INFO [taskExecutor-9] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
42:08 INFO [taskExecutor-9] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005547
42:15 INFO [taskExecutor-9] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
42:15 INFO [taskExecutor-9] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 143042
42:15 INFO [taskExecutor-9] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
42:16 INFO [taskExecutor-9] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
42:16 INFO [taskExecutor-9] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
42:16 INFO [taskExecutor-9] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
42:16 INFO [taskExecutor-9] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
42:16 INFO [taskExecutor-9] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8151, deviceId=20998, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-06 07:42:16, TimeStamp=1523000536048, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
42:16 INFO [taskExecutor-9] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
42:16 INFO [taskExecutor-9] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2015-08-29T16:51:25.329587
42:16 INFO [taskExecutor-9] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
42:16 INFO [taskExecutor-9] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
42:16 INFO [taskExecutor-9] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
42:16 INFO [taskExecutor-9] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-06-07-40-52_A_12_25090063_100.tar.gz.enc)
42:16 INFO [taskExecutor-9] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment existed in NH, the flow will stop!)
42:16 INFO [taskExecutor-9] [AmiaStopService.stopFlow()] - Flow stop, the treatment to process is duplicate or invalid
44:53 INFO [taskExecutor-9] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
44:53 INFO [taskExecutor-9] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 26009
44:53 INFO [taskExecutor-9] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
44:53 INFO [taskExecutor-9] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
44:53 INFO [taskExecutor-9] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
44:53 INFO [taskExecutor-9] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
44:53 INFO [taskExecutor-9] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
44:53 INFO [taskExecutor-9] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8151, deviceId=23010034, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-06 07:44:53, TimeStamp=1523000693562, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
44:53 INFO [taskExecutor-9] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
44:53 INFO [taskExecutor-9] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2015-08-28T00:00:00.000
44:53 INFO [taskExecutor-9] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
44:53 INFO [taskExecutor-9] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
44:53 INFO [taskExecutor-9] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
44:53 INFO [taskExecutor-9] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-06-07-44-02_A_12_25090064_100.tar.gz.enc)
44:53 INFO [taskExecutor-9] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment not existed in NH, the flow will start!)
44:53 INFO [taskExecutor-9] [RegionValidator.isValidRegion()] - Start to validate Region
44:53 INFO [taskExecutor-9] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cylce/event/attribute via Device event Start.
44:53 INFO [taskExecutor-9] [AmiaDeviceEventService.populateTreatmentDomain()] - Parse Treatment cycle/event/attribute via Device event End.
44:53 INFO [taskExecutor-9] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data Start.
44:53 INFO [taskExecutor-9] [AmiaTreatmentService.populateTreatmentData()] - Populate the remaining part of treatment data End. Treatment attribute: [TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DayUF_ml, valueType=INTEGER, valueText=null, valueInt=0, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalUF, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=17977, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TotalTherapyVolume, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=17977, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ESA, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Antibiotics, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=IP_Heparin, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Vitamin_D, valueType=BOOLEAN, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=true, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DeviceId, valueType=VARCHAR2, valueText=23010034, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=SoftwareVersion, valueType=VARCHAR2, valueText=0.7.9-1, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainOptionSurvey, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=DrainOptionType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=StartTime, valueType=DATE, valueText=null, valueInt=null, valueTime=ClinicTime : [ Time in Clinic TimeZone = 2015-08-28 00:00:00, TimeStamp=1440720000000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=TreatmentSettingsNbr, valueType=INTEGER, valueText=null, valueInt=1, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=PrescribedTherapyType, valueType=CODE, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=Tidal, valueFlag=null, valueDomainCd=PrescribedTherapyType, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=NightDialysisDuration, valueType=INTEGER, valueText=null, valueInt=3600, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=236, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=1665, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=54, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=200, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=46, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=118.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=FillDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=832.5, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DwellDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=27.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainVolumeNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=100.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=DrainDurationNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=23.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleUFNightAvg, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=20.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp1SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp2SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp3SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=303], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp4SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=1], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5Volume_ml, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=3000.0, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=Bp5SolutionCode, valueType=UID, valueText=null, valueInt=null, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=SolutionCodeType, valueUid=300], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillDurationDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=709, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=CycleFillVolumeDayTotal, valueType=DECIMAL, valueText=null, valueInt=null, valueTime=null, valueDec=345, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null], TreatmentAttribute [id=null, attributeValue=AttributeValue [attributeCd=ActualNightTherapyDuration, valueType=INTEGER, valueText=null, valueInt=7200, valueTime=null, valueDec=null, valueCd=null, valueFlag=null, valueDomainCd=null, valueUid=null], auditInfoCreateUserId=null]]
44:53 INFO [taskExecutor-9] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Start to calculate the treatment setting attribute!
44:53 INFO [taskExecutor-9] [AmiaTreatmentSettingAttributeCalculationService.calculateTrtmStngAttr()] - Treatment setting attribute calculation done!
44:53 INFO [taskExecutor-9] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Start to calculate the treatment attribute!
44:53 INFO [taskExecutor-9] [AmiaTreatmentAttributeCalculationService.calculateTrtmAttr()] - Treatment attribute calculation done!
44:53 INFO [taskExecutor-9] [AmiaTreatmentPersistenceService.persistTreatment()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 2 - 0 - 0.
44:53 INFO [taskExecutor-9] [AmiaTreatmentPersistenceService.persistTreatment()] - The request NHRevision and DeviceRevision are 2, 0, 0.
44:53 INFO [taskExecutor-9] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
44:53 INFO [taskExecutor-9] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
44:53 INFO [taskExecutor-9] [AmiaTreatmentPersistenceService.persistTreatment()] - Domain Model Reference Data Setup Done.
44:53 INFO [taskExecutor-9] [AmiaTreatmentPersistenceService.persistTreatment()] - Treatment persisting start.
44:54 INFO [taskExecutor-9] [AmiaTreatmentPersistenceService.persistTreatment()] - treatment processing: Persisted treatment (id = 1005548)
44:54 INFO [taskExecutor-9] [AmiaFlagRulesService.deriveRuleValues()] - Derive flag rules Start.
44:54 INFO [taskExecutor-9] [AmiaFlagRulesService.deriveRuleValues()] - Flag populated. TreatmentFlag: TreatmentFlag [id=1009487, treatmentTime=ClinicTime : [ Time in Clinic TimeZone = 2015-08-28 00:00:00, TimeStamp=1440720000000, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
44:54 INFO [taskExecutor-9] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison Start.
44:54 INFO [taskExecutor-9] [AmiaSettingsCompareService.compareSetting()] - The NHRevision - DeviceVersion - DeviceSubVersion from NH is 2 - 0 - 0.
44:54 INFO [taskExecutor-9] [AmiaSettingsCompareService.compareSetting()] - The request NHRevision and DeviceRevision are 2, 0, 0.
44:54 INFO [taskExecutor-9] [AmiaSettingRevisionUtil.validateSettingRevision()] - Start to do setting revision validation.
44:54 INFO [taskExecutor-9] [AmiaSettingRevisionUtil.validateSettingRevision()] - Setting revision validation end.
44:54 INFO [taskExecutor-9] [AmiaSettingsCompareService.synchronizeSetting()] - Setting comparison End. Treatment Id: 1005548
46:23 INFO [taskExecutor-9] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
46:23 INFO [taskExecutor-9] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 26009
46:23 INFO [taskExecutor-9] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
46:23 INFO [taskExecutor-9] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
46:23 INFO [taskExecutor-9] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
46:23 INFO [taskExecutor-9] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
46:23 INFO [taskExecutor-9] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
46:23 INFO [taskExecutor-9] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8151, deviceId=23010034, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-06 07:46:23, TimeStamp=1523000783855, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
46:23 INFO [taskExecutor-9] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
46:23 INFO [taskExecutor-9] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2015-08-28T00:00:00.000
46:23 INFO [taskExecutor-9] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
46:23 INFO [taskExecutor-9] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
46:23 INFO [taskExecutor-9] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
46:23 INFO [taskExecutor-9] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-06-07-44-02_A_12_25090064_100.tar.gz.enc)
46:23 INFO [taskExecutor-9] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment existed in NH, the flow will stop!)
46:23 INFO [taskExecutor-9] [AmiaStopService.stopFlow()] - Flow stop, the treatment to process is duplicate or invalid
47:30 INFO [taskExecutor-9] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract the treatment file content Start.
47:30 INFO [taskExecutor-9] [ExtractTreatmentLogService.getTreatmentXmlContent()] - Extract treatment file content End. Treatment file length: 26009
47:30 INFO [taskExecutor-9] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml Start. Schema location: /schema/V12/Voyager-TreatmentHistoryEpisode.xsd
47:30 INFO [taskExecutor-9] [XMLValidator.validateTreatmentLogXml()] - Validate treatment log xml End. Validation Pass!
47:30 INFO [taskExecutor-9] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header Start.
47:30 INFO [taskExecutor-9] [DeviceVersionHeaderEnricher.getDeviceVersionId()] - Add the device version id to the message header End. DeviceVersion info: 1.0
47:30 INFO [taskExecutor-9] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication Start.
47:30 INFO [taskExecutor-9] [LogDeviceCommunicationService.logDeviceCommunication()] - Log device communication End. Device communication: DeviceCommunication [id=null, patientId=8151, deviceId=23010034, importError=false, requestMessage=null, lastCommTime=ClinicTime : [ Time in Clinic TimeZone = 2018-04-06 07:47:30, TimeStamp=1523000850889, ClinicTimeZone=Coordinated Universal Time, ClinicTimeZone OffSet=0], auditInfo=AuditInfo [createTimestamp=null, createUserId=null, updateTimestamp=null, updateUserId=null]]
47:30 INFO [taskExecutor-9] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time Start.
47:30 INFO [taskExecutor-9] [ExtractTreatmentTimeService.holdTreatmentStartDate()] - Extract treatment start time End. Treatment start time: 2015-08-28T00:00:00.000
47:30 INFO [taskExecutor-9] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean Start.
47:30 INFO [taskExecutor-9] [AmiaTreatmentTransformer.transformXmlToBean()] - XSLT file location: /oxm/JaxbXslt.xslt
47:30 INFO [taskExecutor-9] [AmiaTreatmentTransformer.transformXmlToBean()] - Transform xml to bean End.
47:31 INFO [taskExecutor-9] [DuplicateTreatmentValidator.checkUniqueTreatment()] - checking unique treatment with request tar file Name(treatment processor request tar file name:T_18-04-06-07-44-02_A_12_25090064_100.tar.gz.enc)
47:31 INFO [taskExecutor-9] [DuplicateTreatmentValidator.checkUniqueTreatment()] - The treatment existed in NH, the flow will stop!)
47:31 INFO [taskExecutor-9] [AmiaStopService.stopFlow()] - Flow stop, the treatment to process is duplicate or invalid
